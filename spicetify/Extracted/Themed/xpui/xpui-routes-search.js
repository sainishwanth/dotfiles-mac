"use strict";(("undefined"!=typeof self?self:global).webpackChunkopen=("undefined"!=typeof self?self:global).webpackChunkopen||[]).push([[2219,666],{43914:(e,n,a)=>{a.d(n,{D:()=>o});var t=a(67294),i=a(20657),l=a(76439),r=a(46259),s=a(56802),d=a(61290);const o=({id:e,children:n,targetURI:a,fadeOut:o=!1})=>{const m=(0,t.useCallback)((()=>{window.open((0,r.cd)(a).href)}),[a]),c={getTitle:()=>i.ag.get("action-trigger.available-in-app-only"),getDescription:()=>i.ag.get("action-trigger.listen-mixed-media-episode"),primaryButtonText:()=>i.ag.get("action-trigger.button.get-app"),secondaryButtonText:()=>i.ag.get("action-trigger.button.not-now"),isCTA:!0,intentPrimaryButton:"download-app",onLogInteraction:(0,s.o)(),shouldHideOnScroll:!0,fadeOut:o};return t.createElement(l.P,{className:d.Z.container,id:e,onPrimaryButtonClick:m,options:c},n)}},41632:(e,n,a)=>{a.d(n,{c:()=>c});var t=a(67294),i=a(28760),l=a(18261),r=a(28137),s=a(36590),d=a(51079),o=a(47418),m=a(11186);const c=({name:e,uri:n,images:a,authorName:c,isHero:u,onClick:k,testId:p,index:v,requestId:N})=>{let g;return g=u?t.createElement(o.Z,{index:v,onClick:k,headerText:e,featureIdentifier:"audiobook",uri:n,isPlayable:!1,renderCardImage:()=>t.createElement(d.x,{isHero:!0,images:a}),renderSubHeaderContent:()=>t.createElement(t.Fragment,null,t.createElement(i.Dy,{variant:"mesto"},c),t.createElement(m.k,null,"AUDIOBOOK")),testId:p,requestId:N}):t.createElement(s.C,{index:v,onClick:k,headerText:e,featureIdentifier:"audiobook",uri:n,isPlayable:!1,renderCardImage:()=>t.createElement(d.x,{images:a}),renderSubHeaderContent:()=>t.createElement(i.Dy,{as:"div",variant:"mesto"},c),testId:p,requestId:N}),t.createElement(l._,{menu:t.createElement(r.X,{uri:n})},g)}},54543:(e,n,a)=>{a.d(n,{q:()=>I});var t=a(67154),i=a.n(t),l=a(67294),r=a(69518),s=a.n(r),d=a(63495),o=a(36590),m=a(51079),c=a(47418),u=a(11186);const k=({name:e="",uri:n="",images:a=[],isHero:t,onClick:i,testId:r,index:s})=>t?l.createElement(c.Z,{featureIdentifier:"unknown",index:s,onClick:i,headerText:e,uri:n,isPlayable:!1,renderCardImage:()=>l.createElement(m.x,{isHero:t,images:a}),renderSubHeaderContent:()=>l.createElement(u.k,null),testId:r}):l.createElement(o.C,{index:s,featureIdentifier:"unknown",onClick:i,headerText:e,uri:n,isPlayable:!1,renderCardImage:()=>l.createElement(m.x,{isHero:t,images:a}),renderSubHeaderContent:()=>l.createElement("span",null),testId:r});var p=a(73425),v=a(143),N=a(64269),g=a(3634),S=a(89477),y=a(16061),f=a(46309),h=a(30523),b=a(52778),E=a(95332),F=a(46327);const I=({entity:e,index:n,testId:a,isHero:t=!1})=>{const r=(s().from(e.uri)||{}).type,o={testId:a,isHero:t,index:n,sharingInfo:e.sharingInfo};switch(r){case s().Type.ALBUM:case s().Type.COLLECTION_ALBUM:{const n=e;return l.createElement(g.r,i()({},o,{name:n.name,uri:n.uri,images:n.images,artists:n.artists}))}case s().Type.ARTIST:{const n=e;return l.createElement(S.I,i()({},o,{name:n.name,uri:n.uri,images:n.images}))}case s().Type.EPISODE:{const n=e;return l.createElement(y.B,i()({},o,{name:n.name,uri:n.uri,images:n.images,showImages:n.show?.images||[],durationMilliseconds:n.duration_ms,releaseDate:n.release_date,resume_point:n.resume_point,description:n.description,isExplicit:n.explicit,is19PlusOnly:!!n.tags?.includes("MOGEF-19+")}))}case s().Type.PLAYLIST:case s().Type.PLAYLIST_V2:{const n=e,a=n.owner?.display_name||e.owner?.displayName||"";return l.createElement(f.Z,i()({},o,{name:n.name,uri:n.uri,images:n.images,description:n.description,authorName:a}))}case s().Type.USER:return l.createElement(h.P,i()({},o,{name:e.name,uri:e.uri,images:e.images}));case s().Type.SHOW:{const n=e;return l.createElement(E._,i()({},o,{name:n.name,uri:n.uri,images:n.images,publisher:n.publisher,mediaType:{audio:v.E.AUDIO,video:v.E.VIDEO,mixed:v.E.MIXED}[n.media_type]??v.E.AUDIO}))}case s().Type.APPLICATION:return l.createElement(d.s,i()({},o,{name:e.name,uri:e.uri,images:e.images,description:e.description}));case s().Type.RADIO:return l.createElement(b.I,{testId:a,index:n,name:e.name,uri:e.uri,images:e.images});case s().Type.TRACK:{const n=e;return l.createElement(F.G,i()({},o,{name:n.name,uri:n.uri,images:n.album?.images||[],artists:n.artists,album:n.album,isExplicit:n.explicit,is19PlusOnly:n.tags?.includes("MOGEF-19+")}))}case s().Type.COLLECTION:return e.uri.endsWith("your-episodes")?l.createElement(N.T,{index:n}):l.createElement(p.p,{index:n});default:return console.warn("Rendering a generic Card for unknown type:",r),l.createElement(k,i()({},o,{name:e.name,uri:e.uri,images:e.images}))}}},16061:(e,n,a)=>{a.d(n,{B:()=>D});var t=a(67154),i=a.n(t),l=a(67294),r=a(20657),s=a(18261),d=a(87257),o=a(57978),m=a(80418),c=a(34325),u=a(43315),k=a(49961),p=a(25988),v=a(36590),N=a(51079),g=a(28760),S=a(97605),y=a(85392);const f="z4popIk32AsyDKlV1o1v",h="_xxuonqkZEQ7pCffxlUD",b=l.memo((function(e){const{src:n,description:a,...t}=e,[r,s]=(0,l.useState)("inherit");return(0,l.useEffect)((()=>{n&&async function(e){const{colorRaw:n}=await(0,y.b)(e),{h:a,s:t,l:i}=n.hsl,l=`hsl(${360*a}, ${100*t}%, ${Math.min(100*i,30)}%)`;s(l)}(n)}),[n]),n?l.createElement("div",{className:f,style:{backgroundColor:r},"data-testid":"episode-fallback-image-container"},l.createElement("div",{className:h},l.createElement(g.Dy,{as:"p",variant:"canon"},a))):l.createElement(S.J,i()({},t,{iconSize:64}))}));var E=a(47418),F=a(11186);const I="x1FErCk9Xh9VumpOLyfm",C="heeHk6hz8sAXLIU6P6an",T="Hhfi1xnYwoHoMP2rcltS",D=({description:e,isExplicit:n,images:a,name:t,uri:g,durationMilliseconds:S,releaseDate:y,resume_point:f,showImages:h,sharingInfo:D,is19PlusOnly:A,isHero:R,onClick:x,testId:V,index:w,requestId:q})=>{let P;const U=y?new Date(y):void 0,O=U&&!isNaN(U.getTime())&&!isNaN(S),H=(0,k.X)(h,{desiredSize:48}),_=(0,c.G3)(g,U?.toISOString(),f?.resume_position_ms,f?.fully_played);return P=R?l.createElement(E.Z,{index:w,onClick:x,headerText:t,featureIdentifier:"episode",uri:g,isPlayable:!1,isDownloadable:!0,hasNewEpisodeIndicator:_,renderCardImage:()=>l.createElement(N.x,{isHero:!0,images:a,FallbackComponent:n=>l.createElement(b,i()({},n,{description:e,src:H&&H.url}))},H&&l.createElement(m.E,{loading:"lazy",src:H.url,className:I,radius:4})),renderSubHeaderContent:()=>l.createElement(l.Fragment,null,n&&!A&&l.createElement(d.N,{className:C}),A&&l.createElement(o.X,{size:16,className:C}),O&&l.createElement("span",{className:T},U&&(0,u.rL)(U)," ·"," ",r.ag.get("episode.length",Math.floor(S/6e4))),l.createElement(F.k,null,r.ag.get("card.tag.episode"))),testId:V,requestId:q}):l.createElement(v.C,{index:w,onClick:x,headerText:t,featureIdentifier:"episode",uri:g,isPlayable:!1,isDownloadable:!0,hasNewEpisodeIndicator:_,renderCardImage:()=>l.createElement(N.x,{images:a,FallbackComponent:n=>l.createElement(b,i()({},n,{description:e,src:H&&H.url}))},H&&l.createElement(m.E,{loading:"lazy",src:H.url,className:I,radius:4,testid:"episode-card-show-image"})),renderSubHeaderContent:()=>l.createElement(l.Fragment,null,n&&!A&&l.createElement(d.N,{className:C}),A&&l.createElement(o.X,{size:16,className:C}),O&&l.createElement("span",{className:T},U&&(0,u.rL)(U)," ·"," ",r.ag.get("episode.length",Math.floor(S/6e4)))),testId:V,requestId:q}),l.createElement(s._,{menu:l.createElement(p.k,{uri:g,sharingInfo:D})},P)}},63495:(e,n,a)=>{a.d(n,{s:()=>o});var t=a(67294),i=a(20657),l=a(36590),r=a(51079),s=a(47418),d=a(11186);const o=({name:e,uri:n,images:a,isHero:o,onClick:m,testId:c,description:u,index:k,requestId:p})=>o?t.createElement(s.Z,{featureIdentifier:"genre",index:k,onClick:m,headerText:e,uri:n,isPlayable:!1,renderCardImage:()=>t.createElement(r.x,{isHero:o,images:a}),renderSubHeaderContent:()=>t.createElement(d.k,null,u||i.ag.get("card.tag.genre")),testId:c,requestId:p}):t.createElement(l.C,{index:k,featureIdentifier:"genre",onClick:m,headerText:e,uri:n,isPlayable:!1,renderCardImage:()=>t.createElement(r.x,{isHero:o,images:a}),renderSubHeaderContent:()=>t.createElement("span",null,u||""),testId:c,requestId:p})},30523:(e,n,a)=>{a.d(n,{P:()=>p});var t=a(67154),i=a.n(t),l=a(67294),r=a(5843),s=a(20657),d=a(18261),o=a(43480),m=a(36590),c=a(51079),u=a(47418),k=a(11186);const p=l.memo((function(e){const{images:n,name:a,uri:t,onClick:p,isHero:v,testId:N,index:g,requestId:S}=e;let y;const f=(0,l.useCallback)((()=>l.createElement(c.x,{isCircular:!0,isHero:v,images:n,FallbackComponent:e=>l.createElement(r.a,i()({iconSize:64},e))})),[n,v]),h=(0,l.useCallback)((()=>v?l.createElement(k.k,null,s.ag.get("card.tag.profile")):s.ag.get("card.tag.profile")),[v]);return y=v?l.createElement(u.Z,{index:g,onClick:p,headerText:a,featureIdentifier:"profile",uri:t,isPlayable:!1,renderCardImage:f,renderSubHeaderContent:h,testId:N,requestId:S}):l.createElement(m.C,{index:g,onClick:p,headerText:a,featureIdentifier:"profile",uri:t,isPlayable:!1,renderCardImage:f,renderSubHeaderContent:h,testId:N,requestId:S}),l.createElement(d._,{menu:l.createElement(o.I,{uri:t})},y)}))},94522:(e,n,a)=>{a.d(n,{g:()=>k});var t=a(67294),i=a(94184),l=a.n(i);function r(){const e=(e,n)=>{switch(n.type){case"INVALIDATE":return{...e,isValid:!1};case"CACHE_ITEMS":return e.isValid?{...e,items:{...e.items,...n.data},hasData:!0}:{isValid:!0,items:{...n.data},hasData:!0};default:throw new Error("Action not supported")}},[n,a]=(0,t.useReducer)(e,{items:{},isValid:!0,hasData:!1});return{cacheItems:(0,t.useCallback)(((e,n)=>{const t=e.reduce(((e,a,t)=>(e[t+n]=a,e)),{});a({type:"CACHE_ITEMS",data:t})}),[a]),getCachedItems:(0,t.useCallback)(((e,a)=>{const t=[],i=[];for(let l=e;l<=a;l++)n.items[l]||t.push(l),i.push(n.items[l]);return n.isValid?{items:i,missing:t.length>0?{firstMissingIndex:Math.min(...t),lastMissingIndex:Math.max(...t)}:null}:{items:i,missing:{firstMissingIndex:e,lastMissingIndex:a}}}),[n]),invalidateCache:(0,t.useCallback)((()=>{a({type:"INVALIDATE"})}),[a]),hasCachedData:n.hasData}}var s=a(63926),d=a(77323);const o=({renderItems:e,nrItems:n,estimatedItemMaxHeight:a,scrollNodeRef:i,nrRowsOverscan:l=5})=>{const r=(0,t.useRef)(null),o=(0,t.useRef)(null),m=(0,t.useRef)(null),c=(0,t.useRef)(0),u=(0,t.useRef)({rowCount:0,rowHeight:a,columnCount:1}),[k,p]=(0,t.useState)({firstItemToRender:0,lastItemToRender:-1}),v=(0,t.useCallback)(((e,n)=>{const a=i.current;if(!a)return;const t=Math.floor(a.offsetHeight/n)+2*l;u.current={rowCount:t,rowHeight:n,columnCount:e}}),[l,i]),N=(0,t.useCallback)((()=>{const e=i.current;if(!e)return;const a=Math.floor((e.scrollTop-c.current)/u.current.rowHeight),t=Math.max(a-l,0),r=t*u.current.columnCount,s=Math.min((t+u.current.rowCount-1)*u.current.columnCount-1,n-1);r===k.firstItemToRender&&s===k.lastItemToRender||p({firstItemToRender:r,lastItemToRender:s})}),[k.firstItemToRender,k.lastItemToRender,n,l,i]),g=(0,t.useCallback)((n=>e(k.firstItemToRender,k.lastItemToRender,n)),[k.firstItemToRender,k.lastItemToRender,e]),S=(0,t.useCallback)((({columnCount:e,rowHeight:n})=>{const a=n+s.w;a!==u.current.rowHeight&&e>0&&(v(e,a),N())}),[v,N]);(0,t.useEffect)((()=>{const e=m.current,n=i.current;e&&n&&(c.current=e.getBoundingClientRect().top-n.getBoundingClientRect().top+n.scrollTop)}),[i]),(0,t.useEffect)((()=>{if(!window.IntersectionObserver)return()=>{};const e=new window.IntersectionObserver((e=>{e.forEach((e=>{e.isIntersecting&&N()}))}));return r.current&&e.observe(r.current),o.current&&e.observe(o.current),()=>{e.disconnect()}}),[N]);const y=Math.ceil(n/u.current.columnCount),f=Math.min(y*u.current.rowHeight,u.current.rowHeight*(l-2)),h=u.current.rowHeight*(k.firstItemToRender/u.current.columnCount),b=k.lastItemToRender/u.current.columnCount+1<y?u.current.rowHeight*(y-u.current.rowCount)-h:0;return t.createElement("div",{ref:m,className:d.Z.wrapper,style:{height:y*u.current.rowHeight+"px"}},t.createElement("div",{ref:r,className:d.Z.topSentinel,style:{height:`${h+f}px`}},t.createElement("div",{style:{height:`${f}px`}})),t.createElement("div",{style:{transform:`translateY(${h}px)`}},t.createElement(s.T,{render:g,onLayoutChange:S})),t.createElement("div",{ref:o,className:d.Z.bottomSentinel,style:{height:`${b+f}px`}},t.createElement("div",{style:{height:`${f}px`}})))};var m=a(32648),c=a(56170);const u="lA3jnNwnLc3CoYKT06Vz";function k({renderCard:e,nrCards:n,fetchData:a,limit:i=50,cardGridApiRef:s}){const{scrollNodeRef:d}=(0,t.useContext)(m.VX),{invalidateCache:k,getItemsFromCache:p,hasCachedData:v}=function(e){const{getCachedItems:n,cacheItems:a,invalidateCache:i,hasCachedData:l}=r(),s=(0,t.useRef)(!1),d=(0,t.useRef)(!1);(0,t.useEffect)((()=>(d.current=!0,()=>{d.current=!1})));const o=(0,t.useCallback)(((n,t)=>{const i=Math.max(n,0);s.current||(s.current=!0,e(i,t).then((e=>{s.current=!1,e.length>0&&d.current&&a(e,i)})))}),[a,e]);return{invalidateCache:i,getItemsFromCache:(0,t.useCallback)(((e,a,t)=>{const{items:i,missing:l}=n(e,a);if(l){const{firstMissingIndex:n,lastMissingIndex:i}=l;i===a?o(n,t):n===e?o(i-t+1,t):o(n,i-n+1)}return i}),[o,n]),hasCachedData:l}}(a);(0,t.useImperativeHandle)(s,(()=>({update:()=>k()})));return t.createElement("div",{className:l()({[u]:!v})},t.createElement(o,{renderItems:(a,l,r)=>{const s=p(a,l,i);return-1===l&&n>0?[t.createElement(c.P,{key:"placeholder",index:0})]:s.map(((n,i)=>(n?e(n,a+i,r):null)??t.createElement(c.P,{key:i,index:i})))},scrollNodeRef:d,nrItems:n,estimatedItemMaxHeight:500}))}},70666:(e,n,a)=>{a.r(n),a.d(n,{SeeAll:()=>m,default:()=>c});var t=a(67294),i=a(94184),l=a.n(i),r=a(28760),s=a(20657),d=a(67892);const o="a7lvtXATo3HALtrsOHtO",m=t.memo((function(e){const{link:n,pageId:a,className:i,label:m,state:c,pathname:u,onClick:k}=e;return t.createElement(d.Z,{to:n,className:l()(o,i),pageId:a,state:c,pathname:u,"data-testid":e["data-testid"],onClick:k},t.createElement(r.Dy,{variant:"minuetBold"},m||s.ag.get("search.see-all")))})),c=m},47402:(e,n,a)=>{a.d(n,{M:()=>A});var t=a(67294),i=a(94184),l=a.n(i),r=a(46458),s=a(52883),d=a(69518),o=a.n(d),m=a(73012),c=a(28760),u=a(7438),k=a(10149),p=a(90884),v=a(20657),N=a(32648),g=a(64005),S=a(49023),y=a(54444),f=a(1393),h=a(15416);const b="g3Xinb8x23n81ejvS9Uj",E="x-searchInput-searchInputInput",F="XD3TMuMHmKsfbqieC6q_",I="x-searchInput-searchInputSearchIcon",C="x-searchInput-searchInputClearButton",T="t2K4_iLmAyDtH7mcT5Wy",D="mOLTJ2mxkzHJj6Y9_na_",A=t.memo((function({isSearchChipsEnabled:e=!1,onSearch:n=!0}){const a=(0,s.TH)(),i=(0,t.useRef)(null),d=(0,t.useRef)(null),A=(0,s.k6)(),R=(0,r.I0)(),[{category:x,query:V},w]=(0,h.l)(),[q,P]=(0,t.useState)(V),U=!!x,{scrollNodeRef:O}=t.useContext(N.VX),H=a.pathname.startsWith("/recent-searches"),_=U||H,{spec:M,logger:L}=(0,y.fU)(p.createDesktopSearchInputEventFactory,{}),B=(0,g.y)(((n,a,t)=>{e?w(n,x,!1,t):w(n,null,a,t),O.current&&(O.current.scrollTop=0)}),200),W=(0,t.useCallback)(((e=!1)=>{i.current!==document.activeElement&&(d.current=document.activeElement,i.current&&i.current.focus()),e&&i.current?.select()}),[]);(0,S.eY)(S.O4.SHOW_SEARCH,(()=>W(!0))),(0,t.useEffect)((()=>{!_&&n&&(e&&V||W())}),[V,W,A.location.key,n,_,e]);return t.createElement("div",{className:l()(b,{[F]:!n})},t.createElement("form",{onSubmit:e=>{e.preventDefault(),q&&L.logInteraction(M.keyStrokeSearch());const n=o().from(q);if(n)if(n.type===o().Type.AD){const e=o().idToHex(n.getBase62Id());if(n.getBase62Id()===e)return;R((0,f.HI)(e))}else A.push(n.toURLPath(!0));else q&&O.current?.querySelector("h1, h2, h3, h4")?.focus()},role:"search"},t.createElement(c.Dy,{variant:"mesto",as:"input",style:{color:m.Snx},ref:i,className:l()(E),value:q,maxLength:800,autoCorrect:"off",autoCapitalize:"off",spellCheck:!1,onChange:e=>{const n=e.currentTarget.value,{interactionId:a}=L.logInteraction(M.keyStrokeChangeSearchQuery({searchQueryString:n}));P(n),B(n,_,a)},onKeyDown:e=>{if("Escape"===e.key)if(q){const{interactionId:e}=L.logInteraction(M.hitTextClear());P(""),B("",_,e)}else i.current&&i.current.blur(),d.current instanceof HTMLElement&&d.current.focus()},placeholder:n?v.ag.get("search.search-for-label"):v.ag.get("navbar.search"),onFocus:()=>{e||!_&&n||B(q,_)},"data-testid":"search-input"})),t.createElement("div",{className:T},t.createElement("span",{className:I},t.createElement(u.j,{className:D,"aria-hidden":!0})),q&&t.createElement("button",{className:C,onClick:()=>{i.current&&i.current.focus();const{interactionId:e}=L.logInteraction(M.hitTextClear());P(""),B("",_,e)},"aria-label":v.ag.get("search.a11y.clear-input")},t.createElement(k.k,{className:D}))))}))},15416:(e,n,a)=>{a.d(n,{l:()=>l});var t=a(67294),i=a(52883);function l(){const e=(0,i.k6)(),n=(0,i.$B)("/search/:query?/:category?"),a=(0,t.useCallback)((function(n,a,t,i){const l=i?{interactionId:i}:void 0,r=["/search"];n&&(r.push(encodeURIComponent(n)),a&&r.push(a));const s=r.join("/");t?e.push(s,l):e.replace(s,l)}),[e]),l=function(e){try{return decodeURIComponent(e)}catch{return e}}(n?.params.query||""),r=n?.params.category;return[{query:l,category:r},a]}},38993:(e,n,a)=>{a.r(n),a.d(n,{default:()=>zt});var t=a(67294),i=a(62808),l=a.n(i),r=a(87577),s=a(73305),d=a(20657),o=a(58333),m=a(46458),c=a(49207),u=a(74873),k=a(28760),p=a(99450),v=a(61633),N=a(728),g=a(50114),S=a(17213),y=a(63926),f=a(64005),h=a(56802),b=a(67892);const E="RqBX4yuCHgMNXtcJnxv5",F="nUgbAeYj4gkJ_tXlm_ck",I="I8HKKfSJDDPx7rwCatT2",C="v5TOXMimmpi0Ind7QLHC",T="gjJebeNMJQIjXZyOmINz",D="nuwPDs07FwDYc9TP9KWA",A="YYQh0cc9R7oKH5WmxBUP",R="D7SjPRxlJwibVXmL_BNN",x="un9ka9FQajcXmx1ncJIo",V="SdMIYvEJ5rA5V8t_gOnk";const w=e=>{const{title:n,children:a,seeAllUri:i,pageId:l,className:r="",childColumnSpan:s=1}=e,[o,m]=(0,t.useState)(!1),[c,u]=(0,t.useState)(!1),g=(0,t.useRef)(null),S=(0,h.o)(),w=(0,f.y)((()=>{!function(e,n,a,t,i){if(null===i.current)return;const{scrollLeft:l,offsetWidth:r,scrollWidth:s}=i.current,d=l>0,o=l+r<s;e!==d&&a(d),n!==o&&t(o)}(o,c,m,u,g)}),200);if(Array.isArray(a)&&0===a.length)return null;const q=Array.isArray(a)?a.length:0;return t.createElement("section",{className:`${r} ${E}`,"aria-label":n},t.createElement("div",{className:T},i?t.createElement(b.r,{to:i,pageId:l},t.createElement(k.Dy,{as:"h2",variant:"canon",semanticColor:"textBase",className:C},n)):t.createElement(k.Dy,{as:"h2",variant:"canon",semanticColor:"textBase",className:C},n)),t.createElement("div",{className:I},t.createElement("div",{"data-testid":"scroll-wrapper",className:F,ref:g,onScroll:w},t.createElement(y.T,{className:V,fixedColumnCount:q*s,onUpdate:w,render:(e,n,i,l)=>t.createElement(t.Fragment,null,o&&t.createElement("div",{className:`${D} ${R}`},t.createElement(p.D,{title:d.ag.get("playback-control.skip-back"),className:x,onClick:()=>{!function(e,n,a,t){null!==t.current&&(t.current.scrollLeft-=e*(n+a))}(e,n,l,g),S({intent:"carousel-left",type:"click",itemIdSuffix:"carousel"})},tabIndex:-1,"aria-label":d.ag.get("playback-control.skip-back"),iconOnly:v.e,colorSet:"invertedLight"})),c&&t.createElement("div",{className:`${D} ${A}`},t.createElement(p.D,{title:d.ag.get("playback-control.skip-forward"),className:x,onClick:()=>{!function(e,n,a,t){null!==t.current&&(t.current.scrollLeft+=e*(n+a))}(e,n,l,g),S({intent:"carousel-right",type:"click",itemIdSuffix:"carousel"})},tabIndex:-1,"aria-label":d.ag.get("playback-control.skip-forward"),iconOnly:N.V,colorSet:"invertedLight"})),a)}))))};(0,g.P)(w,(()=>null),(e=>(0,S.v)({from:"Carousel",error:e})));var q=a(42922),P=a(54444),U=a(19480),O=a(69518),H=a.n(O),_=a(73012),M=a(81620),L=a(80418);const B="x-categoryCard-CategoryCard",W="i2yp6pOoZpYZLd5QWguN",G="tV9cjMpTPaykKsn2OVsw",Z=_.Sns,$=_.d1r,z=({title:e,imageUrl:n,viewId:a,pageId:i,color:l=Z,href:r,index:s,ubiId:d})=>{const o=a&&`/genre/${a}`||r||"#",{spec:m,logger:c}=(0,P.fU)(M.createDesktopCategoryCardEventFactory,{data:{position:s,identifier:d}}),u=(0,t.useCallback)((()=>{const e=H().from(o)?.toURI();e&&c.logInteraction(m.hitUiNavigate({destination:e}))}),[c,m,o]),k=(0,P.Wi)(m);return t.createElement(b.r,{to:o,pageId:i,className:B,style:{backgroundColor:l},onClick:u,ref:k},t.createElement("div",null,n?t.createElement(L.E,{loading:"lazy",src:n,className:G}):t.createElement("div",{style:{backgroundColor:$},className:G,"data-testid":"fallback"}),t.createElement("h3",{className:W},e)))},X="a2ruVaZt_DdrdHz3GqgU",j="EfZJn6C1pA6BsRD5UpDR",Y="xGVkSPi5IQWS8RjzeCmq",Q=({title:e,imageUrl:n,viewId:a,color:i=Z,pageId:l,index:r})=>{const s=`/genre/${a}`,{spec:d,logger:o}=(0,P.fU)(M.createDesktopCategoryCardEventFactory,{data:{position:r,identifier:a}}),m=(0,t.useCallback)((()=>{const e=H().from(s)?.toURI();e&&o.logInteraction(d.hitUiNavigate({destination:e}))}),[o,d,s]),c=(0,P.Wi)(d);return t.createElement(b.r,{to:s,pageId:l,className:X,style:{backgroundColor:i},onClick:m,ref:c},t.createElement("div",null,t.createElement("h3",{className:j},e),n?t.createElement(L.E,{loading:"lazy",className:Y,src:n}):t.createElement("div",{className:Y,style:{backgroundColor:$},"data-testid":"fallback"})))},K="rvvoAdb7aaUPYRasW7sK",J="UdXTcsz1eiiInKThkfYp",ee=(0,m.$j)((e=>({topGenres:e.browse.topGenres,browseAll:e.browse.browseAll})))((e=>{const{topGenres:n,browseAll:a,topGenresSpec:i,browseAllSpec:l}=e;return n||a?t.createElement("div",{className:K},n&&t.createElement(q.ZP,{value:"top-genre"},t.createElement(P.Nh,{spec:i},t.createElement(w,{title:n.title,childColumnSpan:2},n.items.map((({viewId:e,color:n,title:a,imageUrl:i},l)=>t.createElement(q.ZP,{key:e,index:l,value:"hero-category-card"},t.createElement(Q,{title:a,viewId:e,pageId:"search",color:n,imageUrl:i,index:l}))))))),a&&t.createElement("div",{className:J,"data-testid":"browse-all"},t.createElement(P.Nh,{spec:l},t.createElement(U.P,{title:a.title,showAll:!0},a.items.map((({viewId:e,color:n,title:a,imageUrl:i,href:l,ubiId:r},s)=>t.createElement(z,{key:e||l,title:a,viewId:e,pageId:"search",href:l,color:n,imageUrl:i,ubiId:r,index:s}))))))):null})),ne=e=>{const n=(0,r.W6)(c.dE),a=(0,m.I0)();return(0,t.useEffect)((()=>{a((0,u.ZR)(n))}),[n,a]),t.createElement(ee,{topGenresSpec:e.topGenresSpec,browseAllSpec:e.browseAllSpec})},ae=e=>t.createElement(t.Suspense,{fallback:null},t.createElement(ne,{topGenresSpec:e.topGenresSpec,browseAllSpec:e.browseAllSpec}));var te=a(18686),ie=a(10149),le=a(3634),re=a(89477),se=a(41632),de=a(54543),oe=a(16061),me=a(63495),ce=a(46309),ue=a(30523),ke=a(95332),pe=a(46327),ve=a(42781);const Ne=({entity:e,index:n,testId:a,onClick:i,isHero:l=!1})=>{switch(e.type){case ve.p.ALBUM:return t.createElement(le.r,{key:e.uri,testId:a,onClick:i,isHero:l,index:n,name:e.name,uri:e.uri,images:e.images,artists:e.artists,year:e.year,sharingInfo:null,requestId:e.requestId});case ve.p.ARTIST:return t.createElement(re.I,{key:e.uri,testId:a,onClick:i,isHero:l,index:n,name:e.name,uri:e.uri,images:e.images,requestId:e.requestId});case ve.p.AUDIOBOOK:return t.createElement(se.c,{key:e.uri,testId:a,onClick:i,isHero:l,index:n,name:e.name,uri:e.uri,images:e.images,authorName:e.authorName,requestId:e.requestId});case ve.p.EPISODE:return t.createElement(oe.B,{key:e.uri,testId:a,onClick:i,isHero:l,index:n,name:e.name,uri:e.uri,images:e.images,showImages:e.show.images,durationMilliseconds:e.duration.milliseconds,releaseDate:e.release.date,resume_point:null,description:e.description,isExplicit:e.isExplicit,is19PlusOnly:e.is19PlusOnly,sharingInfo:null,requestId:e.requestId});case ve.p.GENRE:return t.createElement(me.s,{key:e.uri,testId:a,onClick:i,isHero:l,index:n,name:e.name,uri:e.uri,images:e.images,requestId:e.requestId});case ve.p.PLAYLIST:return t.createElement(ce.Z,{key:e.uri,testId:a,onClick:i,isHero:l,index:n,name:e.name,uri:e.uri,images:e.images,description:"",authorName:e.owner.displayName,requestId:e.requestId});case ve.p.USER:return t.createElement(ue.P,{key:e.uri,testId:a,onClick:i,isHero:l,index:n,name:e.name,uri:e.uri,images:e.images,requestId:e.requestId});case ve.p.SHOW:return t.createElement(ke._,{key:e.uri,testId:a,onClick:i,isHero:l,index:n,name:e.name,uri:e.uri,images:e.images,publisher:e.publisher,mediaType:e.mediaType,sharingInfo:null,requestId:e.requestId});case ve.p.TRACK:return t.createElement(pe.G,{key:e.uri,testId:a,onClick:i,isHero:l,index:n,name:e.name,uri:e.uri,images:e.album?.images||[],artists:e.artists,album:e.album,isExplicit:e.isExplicit,is19PlusOnly:e.is19PlusOnly,sharingInfo:null,requestId:e.requestId});default:return console.warn('Rendering SearchEntityCard using the old method <DeprecatedEntityCardByUriType /> as the entity doesn\'t contain the new "type" EntityType enum.'),t.createElement(de.q,{testId:a,onClick:i,isHero:l,index:n,entity:e})}},ge="ADri2r8kq8LVqSsNNvIr",Se="fOEOTcOAgPryvbYRYfOo",ye="xmJl0s8mcJ3bfhtnoaP1",fe=({entity:e,index:n,clearSearchHistory:a})=>t.createElement("div",{className:ge,key:e.uri},t.createElement(Ne,{entity:{...e,requestId:void 0},index:n}),t.createElement("div",{className:Se},t.createElement("button",{className:ye,onClick:()=>a(e.uri),"aria-label":d.ag.get("remove")},t.createElement(ie.k,{iconSize:16}))));var he=a(16375);const be=()=>{const{searchHistory:e,clearSearchHistory:n}=(0,he.u)();return 0===e.length?null:t.createElement(te.q,{index:0,id:"recent-searches",total:e.length,seeAllUri:"spotify:app:recent-searches",title:d.ag.get("search.title.recent-searches")},e.map(((e,a)=>t.createElement(q.ZP,{key:e.uri,index:a,value:"search-history"},t.createElement(fe,{entity:e,index:a,clearSearchHistory:n})))))},Ee=()=>{const{spec:e,UBIFragment:n}=(0,P.fU)(o.createDesktopFindEventFactory,{data:{uri:"search:find"}}),{recentSearchesSpec:a,topGenresSpec:i,browseAllSpec:l}=(0,t.useMemo)((()=>({recentSearchesSpec:e.recentSearchesFactory(),topGenresSpec:e.topGenresFactory(),browseAllSpec:e.browseAllFactory()})),[e]);return t.createElement(t.Fragment,null,t.createElement(n,{spec:a},t.createElement(be,null)),t.createElement(ae,{topGenresSpec:i,browseAllSpec:l}))};var Fe=a(94184),Ie=a.n(Fe),Ce=a(58588),Te=a(54214),De=a(12324),Ae=a(69559);const Re="bMurPtRDRv5LuN78MTVG",xe="KjPUGV8uMbl_0bvk9ePv",Ve="ijZQH9pePkbB2MbJHCJV",we="XTk61Y8OkBdUT6Wj4F6i",qe="VfDGbMWaJe9rcefizTNk",Pe="vmaoczSnxcR6Bpq8QEfX",Ue="Rrh3wAxQPbSfTYPMvAUo";var Oe;function He(e,n){(0,De.Bu)(e,n),n.scrollIntoView({block:"end",inline:"center"})}function _e(e,n){const a=e.querySelector('[tabindex="0"]')||e.firstElementChild;n===Oe.RIGHT&&a.nextElementSibling?He(a,a.nextElementSibling):n===Oe.LEFT&&a.previousElementSibling&&He(a,a.previousElementSibling)}!function(e){e[e.LEFT=-1]="LEFT",e[e.RIGHT=1]="RIGHT"}(Oe||(Oe={}));const Me=e=>{const{children:n,className:a,showButtons:i=!0,ariaLabel:l}=e,r=(0,t.useRef)(null),s=(0,t.useRef)(null),[d,o]=(0,t.useState)(!1),[c,u]=(0,t.useState)(!1),k=(0,t.useCallback)((()=>{if(!s.current||!r.current)return;const e=s.current,n=r.current,a=e.scrollWidth-e.clientWidth,t=Math.floor(e.scrollLeft),i=e.scrollWidth>n.clientWidth;u(i&&0!==t),o(i&&Math.abs(t)<a)}),[]);(0,Ae.a)((()=>{k()}));const p=t.Children.toArray(n).length;(0,t.useEffect)(k,[p,k]);const g=(0,t.useCallback)((e=>{const n=e*(r.current.clientWidth/2);s.current.scrollBy({left:n}),k()}),[k]),S=(0,m.v9)((e=>e.ui?.textDirection?.isRTL)),y=(0,t.useCallback)((e=>{"ArrowLeft"===e.key?(e.preventDefault(),_e(s.current,S?Oe.RIGHT:Oe.LEFT)):"ArrowRight"===e.key&&(e.preventDefault(),_e(s.current,S?Oe.LEFT:Oe.RIGHT))}),[S]),f=S?d:c,h=S?c:d;return t.createElement("div",{ref:r,className:Ie()(Re,a)},t.createElement("div",{ref:s,className:xe,onScroll:k,onKeyDown:y,role:"list","aria-label":l,tabIndex:0},n),i&&t.createElement("div",{className:Ve,dir:"ltr"},t.createElement("button",{className:Ie()(we,Pe,{[qe]:f}),tabIndex:-1,onClick:()=>g(Oe.LEFT)},t.createElement(v.e,{semanticColor:"textBase"})),t.createElement("button",{className:Ie()(we,Ue,{[qe]:h}),tabIndex:-1,onClick:()=>g(Oe.RIGHT)},t.createElement(N.V,{semanticColor:"textBase"}))))},Le=(0,t.createContext)(null),Be=Le.Provider;function We(){const e=(0,t.useContext)(Le);if(null===e)throw new Error("Trying to use 'SearchContext' without 'SearchProvider'!");return e}var Ge=a(7073),Ze=a(13218),$e=a(76);const ze="hngqMWKjlLOEcuxpoHz9",Xe="WjLSNZPxuT0Zuw42kxSM",je="zFOvsuNQpwehjH2VoiLL",Ye="zeGt0Z2HCYRvd6ziu_t9",Qe=({forChip:e})=>{const{query:n}=We(),a=`/search/${n}`;return t.createElement("div",{className:ze,"aria-live":"polite"},t.createElement(k.Dy,{as:"h1",variant:"canon",className:Xe},e?d.ag.get("search.empty-results-title-for-chip",n,e):d.ag.get("search.empty-results-title",n)),t.createElement("p",{className:je},d.ag.get("search.empty-results-text")),e&&t.createElement($e.rU,{to:a},t.createElement(p.D,{colorSet:"invertedLight",className:Ye},d.ag.get("search.see-all"))))};var Ke=a(33241),Je=a(18864),en=a(84242),nn=a(47917);const an="H2PDjUgJNBIH5eWg59M0",tn="vRlEuZATPhZt2l04RVIw",ln="Adlh7XTc3j3pXM3jGgr8",rn=({index:e,item:n})=>{const{episode:a,show:i}=n,{usePlayContextItem:l}=(0,en.n)({uri:n.episode.uri},{featureIdentifier:"search",referrerIdentifier:"search"});return t.createElement("div",{className:ln},t.createElement(nn.V,{index:e,episode:a,showMetadata:i,usePlayContextItem:l}),t.createElement("hr",{className:tn,"aria-hidden":!0}))},sn=({pageSize:e=30,showTitle:n=!0,displayEmptyPageOnEmptyResults:a=!0,enableInfiniteScroll:i=!1,spec:l})=>{const r=(0,t.useRef)(!0);(0,t.useEffect)((()=>(r.current=!0,()=>{r.current=!1})),[]);const{query:s,api:d}=We(),o=(0,t.useRef)(null),m=(0,t.useRef)(0),[c,u]=(0,t.useState)(null),{ref:k,breakpoint:p}=(0,Je.Db)({[Je.Uo.MEDIUM]:0,[Je.Uo.LARGE]:600}),v=(0,P.$P)(),N=(0,t.useCallback)((async(n=!1)=>{n&&(m.current=0,o.current=null);let a=e;if(null!==o.current){if(m.current>=o.current)return;m.current+a>o.current&&(a=o.current-m.current)}const t=await d.getFullEpisodes(s,m.current,a);m.current+=a,o.current=t.totalCount||0,r.current&&u((e=>(n||null===e?[]:e).concat(t.items)))}),[d,s,e]);(0,t.useEffect)((()=>{N(!0)}),[N]);const g=`spotify:app:search:${encodeURIComponent(s)}:${Dn}`;return 0===o.current?a?t.createElement(Qe,{forChip:xn.episodes()}):null:t.createElement(Je.ZU.Provider,{value:p},c&&n&&t.createElement(Ze.r,{title:xn.episodes(),seeAllUri:g,onClickTitle:()=>{l&&v.logInteraction(l.episodesListFactory().episodesListHeaderFactory().titleFactory().hitUiNavigate({destination:g}))},onClickSeeAll:()=>{l&&v.logInteraction(l.episodesListFactory().episodesListHeaderFactory().seeAllLinkFactory().hitUiNavigate({destination:g}))},hasMoreElements:!i&&c.length<(o.current||0)}),t.createElement("div",{ref:k,className:an},c&&t.createElement(Ke.C,{triggerOnInitialLoad:!1,onReachBottom:()=>{i&&N()}},c.map(((e,n)=>t.createElement(rn,{item:e,index:n,key:n}))))))};var dn=a(99996),on=a(49961),mn=a(28248),cn=a(47991);const un=t.memo((function({trackListHeaderTop:e}){const n=(0,t.useRef)(!0);(0,t.useEffect)((()=>(n.current=!0,()=>{n.current=!1})),[]);const[a,i]=(0,t.useState)(null),{query:l,api:r,serpId:s}=We();(0,t.useEffect)((()=>{(async()=>{const e=await r.getSearchCategoryResultsMeta(l,"tracks");n.current&&i(e.totalCount||0)})()}),[r,l]);const o=(0,t.useCallback)((async(e,n)=>(await r.getSearchCategoryResults(l,"tracks",e,n)).items||[]),[r,l]),m=(0,t.useCallback)(((e,n)=>{const a=(0,on.X)(e.album?.images,{desiredSize:40}),i=!(!1===e.isPlayable);return t.createElement(mn.e9,{key:n+e.uri,index:n,uri:(0,cn.$)(e),duration:e.duration,name:e.name,album:e.album,artists:e.artists,isPlayable:i,isExplicit:e.isExplicit,is19PlusOnly:e.is19PlusOnly,imgUrl:a?.url||"",requestId:e.requestId})}),[]),c=(0,t.useMemo)((()=>[mn.QD.INDEX,mn.QD.TITLE,mn.QD.ALBUM,mn.QD.DURATION]),[]),u=(0,t.useCallback)((e=>e.uri),[]),k=H().searchURI(l).toURI(),{spec:p,UBIFragment:v}=(0,P.fU)(dn.createDesktopSearchTracksEventFactory,{data:{uri:k,reason:s}}),N=(0,t.useMemo)((()=>p.tracksFactory()),[p]);if(null===a)return null;const g=d.ag.get("search.showing-category-query-songs",l);return t.createElement(v,{spec:N},t.createElement(q.ZP,{value:"search-results-tracklist"},t.createElement(mn.Pv,{ariaLabel:g,key:l,hasHeaderRow:!0,columns:c,renderRow:m,resolveUri:u,nrTracks:a,fetchTracks:o,limit:50,headerTop:e})))}));var kn=a(85019);const pn=e=>{const{title:n,category:a,query:i,results:l,onAddToHistory:r,position:s,showSeeAll:d}=e;if(!l)return null;const{items:o,totalCount:m}=l;return o&&0!==o.length?t.createElement(te.q,{index:s,id:a,total:m||0,title:n,testId:`${a}-search-entity`,seeAllUri:`spotify:app:search:${encodeURIComponent(i)}:${a}`,showSeeAll:d},o.map(((e,n)=>t.createElement(q.ZP,{value:a,index:n,key:e.uri},t.createElement(Ne,{onClick:()=>r(e),entity:e,index:n}))))):null},vn={podcastAndEpisodes:"pE9ccpPiPFWfTWfDdKT_"},Nn=({pageSize:e,results:n})=>{const a=(0,t.useRef)(!0);(0,t.useEffect)((()=>(a.current=!0,()=>{a.current=!1})),[]);const{query:i,serpId:l,onAddToHistory:r}=We(),s=H().searchURI(i).toURI(),{spec:d,UBIFragment:o}=(0,P.fU)(kn.createDesktopSearchPodcastAndShowsEventFactory,{data:{uri:s,reason:l}});return 0===n?.podcasts.totalCount&&0===n?.episodes.totalCount?t.createElement(Qe,{forChip:xn.podcastAndEpisodes()}):t.createElement(o,{spec:d},t.createElement("div",{className:vn.podcastAndEpisodes},0!==n?.podcasts.totalCount&&t.createElement("div",{className:vn.podcastShelf},t.createElement(pn,{position:0,category:"podcasts",title:xn.podcastAndEpisodes(),query:i,results:n?.podcasts,onAddToHistory:r})),0!==n?.episodes.totalCount&&t.createElement("div",{className:vn.episodesShelf},t.createElement(sn,{displayEmptyPageOnEmptyResults:!1,pageSize:e,spec:d}))))};var gn=a(78358);const Sn="bCoyoXohuLs0f6urF2PD",yn={artists:e=>d.ag.get("search.showing-category-query-artist",e),albums:e=>d.ag.get("search.showing-category-query-albums",e),playlists:e=>d.ag.get("search.showing-category-query-playlists",e),podcasts:e=>d.ag.get("search.showing-category-query-podcasts",e),audiobooks:e=>`All audiobooks for ${e}`,episodes:e=>d.ag.get("search.showing-category-query-episodes",e),users:e=>d.ag.get("search.showing-category-query-profiles",e),genres:e=>d.ag.get("search.showing-category-query-genres",e),tracks:()=>""},fn={shows:"podcasts",profiles:"users"},hn=({showTitle:e=!0,pageSize:n=50})=>{const a=(0,t.useRef)(!0);(0,t.useEffect)((()=>(a.current=!0,()=>{a.current=!1})),[]);const{category:i,query:l,api:r,serpId:s,onAddToHistory:d}=We(),o=(0,t.useRef)(null),m=(0,t.useRef)(0),[c,u]=(0,t.useState)(null),p=i,v=fn[p]||i,N=(0,t.useCallback)((async(e=!1)=>{e&&(m.current=0,o.current=null);let t=n;if(null!==o.current){if(m.current>=o.current)return;m.current+t>o.current&&(t=o.current-m.current)}const i=await r.getSearchCategoryResults(l,v,m.current,t);m.current+=t,o.current=i.totalCount||0,a.current&&u((n=>(e||null===n?[]:n).concat(i.items)))}),[r,v,l,n]);(0,t.useEffect)((()=>{N(!0)}),[N]);const g=(0,t.useCallback)(((e,n)=>t.createElement(q.ZP,{value:"card",key:`${e.uri}-${n}`,index:n},t.createElement(Ne,{entity:e,onClick:()=>d(e),testId:`search-category-card-${n}`,index:n}))),[d]),S=H().searchURI(l).toURI(),{spec:f,UBIFragment:h}=(0,P.fU)(gn.createDesktopSearchCategoryEventFactory,{data:{uri:S,reason:s}}),b=(0,t.useMemo)((()=>f.cardsFactory()),[f]);return 0===o.current?t.createElement(Qe,{forChip:xn[p]()}):t.createElement(h,{spec:b},t.createElement("div",{className:Sn},e&&p in yn&&t.createElement(k.Dy,{as:"h1",variant:"canon",semanticColor:"textBase",paddingBottom:_.o78},yn[p](l)),c&&t.createElement(Ke.C,{onReachBottom:N,triggerOnInitialLoad:!1},t.createElement(y.T,{render:()=>c.map(((e,n)=>g(e,n)))}))))};var bn=a(13406);const En=({pageSize:e=100})=>{if(e>100)throw new Error("PathFinder does not support page sizes > 100");const n=(0,t.useRef)(!0);(0,t.useEffect)((()=>(n.current=!0,()=>{n.current=!1})),[]);const{query:a,api:i,serpId:l}=We(),r=(0,t.useRef)(null),s=(0,t.useRef)(0),[o,m]=(0,t.useState)(null),c=(0,t.useCallback)((async(t=!1)=>{t&&(s.current=0,r.current=null);let l=e;if(null!==r.current){if(s.current>=r.current)return;s.current+l>r.current&&(l=r.current-s.current)}const d=await i.getSearchCategoryResults(a,"tracks",s.current,l);s.current+=l,r.current=d.totalCount||0,n.current&&m((e=>(t||null===e?[]:e).concat(d.items)))}),[i,a,e]);(0,t.useEffect)((()=>{c(!0)}),[c]);const u=(0,t.useCallback)(((e,n)=>{const a=(0,on.X)(e.album?.images,{desiredSize:40}),i=!(!1===e.isPlayable);return t.createElement(mn.e9,{key:n+e.uri,index:n,uri:(0,cn.$)(e),duration:e.duration,name:e.name,album:e.album,artists:e.artists,isPlayable:i,isExplicit:e.isExplicit,is19PlusOnly:e.is19PlusOnly,imgUrl:a?.url||"",requestId:e.requestId})}),[]),k=(0,t.useMemo)((()=>[mn.QD.INDEX,mn.QD.TITLE,mn.QD.ALBUM,mn.QD.DURATION]),[]),p=(0,t.useCallback)((e=>e.uri),[]),v=H().searchURI(a).toURI(),{spec:N,UBIFragment:g}=(0,P.fU)(dn.createDesktopSearchTracksEventFactory,{data:{uri:v,reason:l}}),S=(0,t.useMemo)((()=>N.tracksFactory()),[N]),y=d.ag.get("search.showing-category-query-songs",a);return 0===r.current?t.createElement(Qe,{forChip:xn.tracks()}):t.createElement(g,{spec:S},t.createElement(q.ZP,{value:"search-results-tracklist"},t.createElement("div",null,o&&t.createElement(Ke.C,{triggerOnInitialLoad:!1,onReachBottom:c},t.createElement(mn.Pv,{ariaLabel:y,hasHeaderRow:!0,columns:k,renderRow:u,resolveUri:p,nrTracks:o.length,headerTop:bn.K1+qn,tracks:o})))))};var Fn=a(94522);const In=function(){const e=(0,t.useRef)(!0);(0,t.useEffect)((()=>(e.current=!0,()=>{e.current=!1})),[]);const{api:n,query:a,serpId:i,onAddToHistory:l}=We(),[r,s]=(0,t.useState)(d.ag.get("artist-page.featuring",a)),o=(0,t.useCallback)((async()=>{const t=await n.getTopRecommendations(a);return e.current&&s(d.ag.get("artist-page.featuring",t.artistName)),t.items}),[n,a]),m=(0,t.useCallback)(((e,n)=>t.createElement(q.ZP,{key:e.uri,value:"card",index:n},t.createElement(ce.Z,{index:n,onClick:()=>l(e),uri:e.uri,name:e.name,images:e.images,authorName:e.owner.displayName,description:null}))),[l]),c=H().searchURI(a).toURI(),{spec:u,UBIFragment:p}=(0,P.fU)(gn.createDesktopSearchCategoryEventFactory,{data:{uri:c,reason:i}});return t.createElement(p,{spec:u},t.createElement("div",null,t.createElement(k.Dy,{as:"h1",variant:"canon",semanticColor:"textBase",paddingBottom:_.o78},r),t.createElement(Fn.g,{nrCards:4,renderCard:m,fetchData:o})))},Cn="tracks",Tn="podcastAndEpisodes",Dn="episodesFull",An=({results:e})=>{const{category:n}=We();return n===Cn?t.createElement(En,null):n===Tn?t.createElement(Nn,{results:e,pageSize:30}):n===Dn?t.createElement(sn,{pageSize:30,enableInfiniteScroll:!0,showTitle:!1}):t.createElement(hn,{showTitle:!1,pageSize:30})},Rn=()=>{const{category:e}=We();return e===Cn?t.createElement(un,null):"topRecommendations"===e?t.createElement(In,null):t.createElement(hn,null)},xn={artists:()=>d.ag.get("search.title.artists"),albums:()=>d.ag.get("search.title.albums"),playlists:()=>d.ag.get("search.title.playlists"),podcasts:()=>d.ag.get("search.title.shows"),episodes:()=>d.ag.get("search.title.episodes"),audiobooks:()=>"Audiobooks",users:()=>d.ag.get("search.title.profiles"),genres:()=>d.ag.get("search.title.genres-and-moods"),tracks:()=>d.ag.get("search.title.tracks"),[Tn]:()=>d.ag.get("search.title.podcast-and-shows")},Vn=["artists","albums","playlists","podcasts","episodes","audiobooks","users","genres"],wn={containerFullWidth:"fVB_YDdnaDlztX7CcWTA",contentSpacing:"e179_Eg8r7Ub6yjjxctr",container:"VIeVCUUETJyYPCDpsBif",chipLink:"ZWI7JsjzJaR_G8Hy4W6J"},qn=48,Pn={[Ge.xN.Podcasts]:["podcasts",Tn],[Ge.xN.Episodes]:["episodes",Tn],[Ge.xN.TopResults]:[null,null],[Ge.xN.Artists]:["artists","artists"],[Ge.xN.Albums]:["albums","albums"],[Ge.xN.Playlists]:["playlists","playlists"],[Ge.xN.Tracks]:["tracks","tracks"],[Ge.xN.Audiobooks]:["audiobooks","audiobooks"],[Ge.xN.Genres]:["genres","genres"],[Ge.xN.Users]:["users","users"]},Un=({to:e,title:n,selected:a,onClick:i})=>t.createElement(b.Z,{replace:!0,to:e,tabIndex:-1,onClick:i,className:wn.chipLink},t.createElement(Ce.A,{selected:a,selectedColorSet:"invertedLight",className:wn.chip,tabIndex:-1},n)),On=({results:e})=>{const{query:n,category:a}=We(),{spec:i,logger:l}=(0,P.fU)(Te.createDesktopSearchChipsEventFactory,{});if(!n)return null;if("podcasts"===a||"episodes"===a||a===Dn)return null;const r=e?.chipOrder?.items||[],s=r.reduce(((n,t)=>{if(!t.typeName)return n;const[i,l]=Pn[t.typeName];return l&&i&&(a===l||e?.[i]?.items?.length)?(n.add(l),n):n}),new Set([])),o=encodeURIComponent(n);return t.createElement("div",{className:wn.containerFullWidth},t.createElement("div",{className:Ie()("contentSpacing",wn.contentSpacing)},t.createElement("div",{className:wn.container},t.createElement(Me,{className:wn.carousel},r.length>0&&t.createElement(Un,{key:"all",to:`spotify:app:search:${o}`,title:d.ag.get("search.title.all"),selected:void 0===a,onClick:()=>{l.logInteraction(i.chipFactory({identifier:"all",position:0}).hitUiNavigate({destination:`spotify:app:search:${o}`}))}}),Array.from(s).map(((e,n)=>{const r=xn[e]?.();return t.createElement(Un,{key:e,to:`spotify:app:search:${o}:${e}`,title:r,selected:a===e,onClick:()=>{l.logInteraction(i.chipFactory({identifier:e,position:n+1}).hitUiNavigate({destination:`spotify:app:search:${o}:${e}`}))}})}))))))};var Hn=a(43675);const _n="Ul_eSpTV7OKDhvXcgfzw",Mn="HFNTjI36ujrPacyLOwTT",Ln=()=>{const{searchHistory:e,clearSearchHistory:n}=(0,he.u)(),{onSearchRequest:a}=We(),{spec:i,logger:l,UBIFragment:r}=(0,P.fU)(Hn.createDesktopRecentSearchesEventFactory,{data:{uri:"spotify:app:recent-searches"}}),s=(0,t.useMemo)((()=>i.recentSearchesCardsFactory()),[i]),o=(0,t.useCallback)((()=>{const e=i.clearButtonFactory().hitClearRecentSearches();l.logInteraction(e),n(),a("")}),[n,a,l,i]);return 0===e.length?null:t.createElement("div",{className:_n},t.createElement(r,{spec:s},t.createElement(U.P,{title:d.ag.get("search.title.recent-searches"),showAll:!0},e.map(((e,a)=>t.createElement(q.ZP,{key:e.uri,index:a,value:"search-history"},t.createElement(fe,{clearSearchHistory:n,entity:e,index:a})))))),t.createElement("button",{onClick:o,className:Mn},t.createElement(k.Dy,{variant:"minuetBold"},d.ag.get("search.clear-recent-searches"))))};var Bn=a(35796),Wn=a(26529),Gn=a(3775),Zn=a(22578),$n=a(28638),zn=a(13983);const Xn=(e,n)=>{const a=("object"==typeof e?.requestIds?e?.requestIds:void 0)?.[n],t="object"==typeof a?a:void 0;return"string"==typeof t?.["search-api"]?t?.["search-api"]:void 0},jn=e=>Xn(e,"/searchV2"),Yn=e=>Xn(e,"/searchV2/topResults");a(98984);var Qn=a(52200),Kn=a(2678);const Jn={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"searchAlbumDesktop"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AlbumResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Album"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"artists"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"profile"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"imageSources"}}]}},{kind:"Field",name:{kind:"Name",value:"date"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"year"}}]}}]}}]}}]}}]},ea={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"searchArtistDesktop"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ArtistResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Artist"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"profile"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"Field",name:{kind:"Name",value:"visuals"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"avatarImage"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"imageSources"}}]}}]}}]}}]}}]}}]},na={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"searchEpisodeDesktop"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"EpisodeResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Episode"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"imageSources"}}]}},{kind:"Field",name:{kind:"Name",value:"duration"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalMilliseconds"}}]}},{kind:"Field",name:{kind:"Name",value:"releaseDate"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isoString"}},{kind:"Field",name:{kind:"Name",value:"precision"}}]}},{kind:"Field",name:{kind:"Name",value:"podcast"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"imageSources"}}]}},{kind:"Field",name:{kind:"Name",value:"type"}},{kind:"Field",name:{kind:"Name",value:"publisher"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"Field",name:{kind:"Name",value:"mediaType"}}]}},{kind:"Field",name:{kind:"Name",value:"description"}},{kind:"Field",name:{kind:"Name",value:"contentRating"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"label"}}]}}]}}]}}]}}]},aa={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"searchGenreDesktop"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"GenreResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Genre"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"image"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"imageSources"}}]}}]}}]}}]}}]},ta={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"searchPlaylistDesktop"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PlaylistResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Playlist"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"description"}},{kind:"Field",name:{kind:"Name",value:"images"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"imageSources"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"owner"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"username"}}]}}]}}]}}]}}]},ia={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"searchPodcastDesktop"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PodcastResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Podcast"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"imageSources"}}]}},{kind:"Field",name:{kind:"Name",value:"type"}},{kind:"Field",name:{kind:"Name",value:"publisher"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"Field",name:{kind:"Name",value:"mediaType"}}]}}]}}]}}]},la={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"searchAudiobookDesktop"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AudiobookResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Audiobook"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"imageSources"}}]}},{kind:"Field",name:{kind:"Name",value:"publisher"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"Field",name:{kind:"Name",value:"mediaType"}}]}}]}}]}}]},ra={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"searchTrackDesktop"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"TrackResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Track"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"albumOfTrack"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"imageSources"}}]}},{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"artists"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"profile"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"contentRating"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"label"}}]}},{kind:"Field",name:{kind:"Name",value:"duration"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalMilliseconds"}}]}},{kind:"Field",name:{kind:"Name",value:"playability"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"playable"}}]}}]}}]}}]}}]},sa={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"searchUserDesktop"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UserResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",alias:{kind:"Name",value:"displayName"},name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"username"}},{kind:"Field",name:{kind:"Name",value:"image"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"smallImageUrl"}},{kind:"Field",name:{kind:"Name",value:"largeImageUrl"}}]}}]}}]}}]}}]},da={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"searchFullEpisodes"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"offset"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"searchV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}},{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"Variable",name:{kind:"Name",value:"offset"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"query"}},{kind:"Field",name:{kind:"Name",value:"episodes"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchFullEpisodeDesktop"}}]}},{kind:"Field",name:{kind:"Name",value:"pagingInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nextOffset"}},{kind:"Field",name:{kind:"Name",value:"limit"}}]}}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"searchFullEpisodeDesktop"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"EpisodeResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Episode"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"podcastEpisode"}},{kind:"Field",name:{kind:"Name",value:"podcast"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"podcastMetadataV2"}}]}}]}}]}}]}},...Kn.n0.definitions,...Qn.rD.definitions,...Qn.rA.definitions,...Qn.TS.definitions,...Kn.Rr.definitions]};var oa=a(8386);function ma(e){return null!==e}function ca(e,n){return e.map((e=>function(e,n){if("Episode"!==e.data?.__typename)return null;return{requestId:n,episode:(0,oa.YS)(e.data),show:(0,oa.XU)(e.data.podcast)}}(e,n))).filter(ma)}async function ua(e,n){const a=await e(da,n),t=a?.data?.searchV2?.episodes;return t?function(e,n){return{items:ca(e?.items||[],n),totalCount:e?.totalCount||0}}(t,jn(a?.extensions)):null}const ka={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"searchDesktop"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"offset"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"numberOfTopResults"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"includeAudiobooks"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"searchV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}},{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"Variable",name:{kind:"Name",value:"offset"}}},{kind:"Argument",name:{kind:"Name",value:"numberOfTopResults"},value:{kind:"Variable",name:{kind:"Name",value:"numberOfTopResults"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"albums"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchAlbumDesktop"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"artists"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchArtistDesktop"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"episodes"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchEpisodeDesktop"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"genres"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchGenreDesktop"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"playlists"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchPlaylistDesktop"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"podcasts"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchPodcastDesktop"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"audiobooks"},directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"includeAudiobooks"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchAudiobookDesktop"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"tracks"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchTrackDesktop"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"users"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchUserDesktop"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"topResults"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchAlbumDesktop"}},{kind:"FragmentSpread",name:{kind:"Name",value:"searchArtistDesktop"}},{kind:"FragmentSpread",name:{kind:"Name",value:"searchEpisodeDesktop"}},{kind:"FragmentSpread",name:{kind:"Name",value:"searchGenreDesktop"}},{kind:"FragmentSpread",name:{kind:"Name",value:"searchPlaylistDesktop"}},{kind:"FragmentSpread",name:{kind:"Name",value:"searchPodcastDesktop"}},{kind:"FragmentSpread",name:{kind:"Name",value:"searchTrackDesktop"}},{kind:"FragmentSpread",name:{kind:"Name",value:"searchUserDesktop"}},{kind:"FragmentSpread",name:{kind:"Name",value:"searchAudiobookDesktop"},directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"includeAudiobooks"}}}]}]}]}},{kind:"Field",name:{kind:"Name",value:"featured"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchPlaylistDesktop"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"chipOrder"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"typeName"}}]}}]}}]}}]}},...Jn.definitions,...Qn.rD.definitions,...Qn.rA.definitions,...ea.definitions,...na.definitions,...aa.definitions,...ta.definitions,...ia.definitions,...la.definitions,...ra.definitions,...sa.definitions]};function pa(e,n){return{items:va(e?.items||[],n),totalCount:e?.totalCount||0}}function va(e,n){return e.map((e=>Na(e,n))).filter(ma)}function Na(e,n){if("Album"!==e.data?.__typename)return null;const a=e.data;return{type:ve.p.ALBUM,name:a.name,uri:a.uri,images:a.coverArt?.sources||[],artists:a.artists.items.map((e=>({type:ve.p.ARTIST,name:e.profile.name,uri:e.uri}))),year:a.date?.year,requestId:n}}const ga={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"searchAlbums"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"offset"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"searchV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}},{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"Variable",name:{kind:"Name",value:"offset"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"query"}},{kind:"Field",name:{kind:"Name",value:"albums"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchAlbumDesktop"}}]}},{kind:"Field",name:{kind:"Name",value:"pagingInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nextOffset"}},{kind:"Field",name:{kind:"Name",value:"limit"}}]}}]}}]}}]}},...Jn.definitions,...Qn.rD.definitions,...Qn.rA.definitions]},Sa={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"searchAlbumsMeta"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"searchV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"query"}},{kind:"Field",name:{kind:"Name",value:"albums"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}}]}}]}}]}}]};function ya(e,n){return{items:fa(e?.items||[],n),totalCount:e?.totalCount||0}}function fa(e,n){return e.map((e=>ha(e,n))).filter(ma)}function ha(e,n){if("Artist"!==e.data?.__typename)return null;const a=e.data;return{type:ve.p.ARTIST,name:a.profile.name,images:a.visuals?.avatarImage?.sources||[],uri:a.uri,requestId:n}}const ba={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"searchArtists"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"offset"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"searchV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}},{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"Variable",name:{kind:"Name",value:"offset"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"query"}},{kind:"Field",name:{kind:"Name",value:"artists"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchArtistDesktop"}}]}},{kind:"Field",name:{kind:"Name",value:"pagingInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nextOffset"}},{kind:"Field",name:{kind:"Name",value:"limit"}}]}}]}}]}}]}},...ea.definitions,...Qn.rD.definitions,...Qn.rA.definitions]},Ea={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"searchArtistsMeta"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"searchV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"query"}},{kind:"Field",name:{kind:"Name",value:"artists"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}}]}}]}}]}}]};function Fa(e,n){return{items:Ia(e?.items||[],n),totalCount:e?.totalCount}}function Ia(e,n){return e.map((e=>Ca(e,n))).filter(ma)}function Ca(e,n){if("Audiobook"!==e.data?.__typename)return null;const a=e.data;return{type:ve.p.AUDIOBOOK,uri:a.uri,name:a.name,images:a.coverArt?.sources||[],authorName:a.publisher?.name||"",requestId:n}}const Ta={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"searchAudiobooks"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"offset"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"searchV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}},{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"Variable",name:{kind:"Name",value:"offset"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"query"}},{kind:"Field",name:{kind:"Name",value:"audiobooks"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchAudiobookDesktop"}}]}},{kind:"Field",name:{kind:"Name",value:"pagingInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nextOffset"}},{kind:"Field",name:{kind:"Name",value:"limit"}}]}}]}}]}}]}},...la.definitions,...Qn.rD.definitions,...Qn.rA.definitions]},Da={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"searchAudiobooksMeta"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"searchV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"query"}},{kind:"Field",name:{kind:"Name",value:"audiobooks"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}}]}}]}}]}}]};var Aa=a(72169);function Ra(e,n){return{items:xa(e?.items||[],n),totalCount:e?.totalCount||0}}function xa(e,n){return e.map((e=>Va(e,n))).filter(ma)}function Va(e,n){if("Episode"!==e.data?.__typename)return null;const a=e.data;return{type:ve.p.EPISODE,name:a.name,images:a.coverArt?.sources||[],uri:a.uri,duration:{milliseconds:a.duration.totalMilliseconds},isExplicit:a.contentRating?.label===Ge.KS.Explicit,release:(0,Aa.dR)(a.releaseDate),description:a.description||"",is19PlusOnly:a.contentRating?.label===Ge.KS.NineteenPlus,show:{type:ve.p.SHOW,uri:a.podcast.uri,name:a.podcast.name,publisher:a.podcast.publisher?.name||"",mediaType:(0,Aa.x7)(a.podcast.mediaType),images:a.podcast.coverArt?.sources||[]},requestId:n}}const wa={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"searchEpisodes"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"offset"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"searchV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}},{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"Variable",name:{kind:"Name",value:"offset"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"query"}},{kind:"Field",name:{kind:"Name",value:"episodes"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchEpisodeDesktop"}}]}},{kind:"Field",name:{kind:"Name",value:"pagingInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nextOffset"}},{kind:"Field",name:{kind:"Name",value:"limit"}}]}}]}}]}}]}},...na.definitions,...Qn.rD.definitions,...Qn.rA.definitions]},qa={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"searchEpisodesMeta"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"searchV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"query"}},{kind:"Field",name:{kind:"Name",value:"episodes"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}}]}}]}}]}}]};function Pa(e,n){return{items:Ua(e?.items||[],n),totalCount:e?.totalCount||0}}function Ua(e,n){return e.map((e=>Oa(e,n))).filter(ma)}function Oa(e,n){if("Genre"!==e.data?.__typename)return null;const a=e.data,t=H().from(a.uri);return{type:ve.p.GENRE,name:a.name,uri:t?a.uri:`spotify:app:genre:${a.uri}`,images:a.image?.sources||[],requestId:n}}const Ha={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"searchGenres"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"offset"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"searchV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}},{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"Variable",name:{kind:"Name",value:"offset"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"query"}},{kind:"Field",name:{kind:"Name",value:"genres"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchGenreDesktop"}}]}},{kind:"Field",name:{kind:"Name",value:"pagingInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nextOffset"}},{kind:"Field",name:{kind:"Name",value:"limit"}}]}}]}}]}}]}},...aa.definitions,...Qn.rD.definitions,...Qn.rA.definitions]},_a={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"searchGenresMeta"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"searchV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"query"}},{kind:"Field",name:{kind:"Name",value:"genres"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}}]}}]}}]}}]};function Ma(e,n){return{items:La(e?.items||[],n),totalCount:e?.totalCount||0}}function La(e,n){return e.map((e=>Ba(e,n))).filter(ma)}function Ba(e,n){if("Playlist"!==e.data?.__typename)return null;const a=e.data;return{type:ve.p.PLAYLIST,uri:a.uri,name:a.name,images:a.images?.items.flatMap((e=>e.sources))||[],owner:{type:ve.p.USER,uri:a.owner?.uri||"",displayName:a.owner?.name||"",username:a.owner?.username||"",images:a.images?.items.flatMap((e=>e.sources))||[]},requestId:n}}const Wa={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"searchPlaylists"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"offset"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"searchV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}},{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"Variable",name:{kind:"Name",value:"offset"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"query"}},{kind:"Field",name:{kind:"Name",value:"playlists"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchPlaylistDesktop"}}]}},{kind:"Field",name:{kind:"Name",value:"pagingInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nextOffset"}},{kind:"Field",name:{kind:"Name",value:"limit"}}]}}]}}]}}]}},...ta.definitions,...Qn.rD.definitions,...Qn.rA.definitions]},Ga={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"searchPlaylistsMeta"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"searchV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"query"}},{kind:"Field",name:{kind:"Name",value:"playlists"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}}]}}]}}]}}]};function Za(e,n){return{items:$a(e?.items||[],n),totalCount:e?.totalCount||0}}function $a(e,n){return e.map((e=>za(e,n))).filter(ma)}function za(e,n){if("Podcast"!==e.data?.__typename)return null;const a=e.data;return{type:ve.p.SHOW,uri:a.uri,name:a.name,images:a.coverArt?.sources||[],mediaType:(0,Aa.x7)(a.mediaType),publisher:a.publisher?.name||"",requestId:n}}const Xa={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"searchPodcasts"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"offset"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"searchV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}},{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"Variable",name:{kind:"Name",value:"offset"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"query"}},{kind:"Field",name:{kind:"Name",value:"podcasts"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchPodcastDesktop"}}]}},{kind:"Field",name:{kind:"Name",value:"pagingInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nextOffset"}},{kind:"Field",name:{kind:"Name",value:"limit"}}]}}]}}]}}]}},...ia.definitions,...Qn.rD.definitions,...Qn.rA.definitions]},ja={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"searchPodcastsMeta"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"searchV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"query"}},{kind:"Field",name:{kind:"Name",value:"podcasts"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}}]}}]}}]}}]};const Ya={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"searchTopResults"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"numberOfTopResults"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"searchV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}}},{kind:"Argument",name:{kind:"Name",value:"numberOfTopResults"},value:{kind:"Variable",name:{kind:"Name",value:"numberOfTopResults"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"topResults"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchTopResults"}}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"searchTopResults"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"TopResultsV2"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchAlbumDesktop"}},{kind:"FragmentSpread",name:{kind:"Name",value:"searchArtistDesktop"}},{kind:"FragmentSpread",name:{kind:"Name",value:"searchEpisodeDesktop"}},{kind:"FragmentSpread",name:{kind:"Name",value:"searchGenreDesktop"}},{kind:"FragmentSpread",name:{kind:"Name",value:"searchPlaylistDesktop"}},{kind:"FragmentSpread",name:{kind:"Name",value:"searchPodcastDesktop"}},{kind:"FragmentSpread",name:{kind:"Name",value:"searchAudiobookDesktop"}},{kind:"FragmentSpread",name:{kind:"Name",value:"searchTrackDesktop"}},{kind:"FragmentSpread",name:{kind:"Name",value:"searchUserDesktop"}}]}},{kind:"Field",name:{kind:"Name",value:"featured"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchPlaylistDesktop"}}]}}]}},...Jn.definitions,...Qn.rD.definitions,...Qn.rA.definitions,...ea.definitions,...na.definitions,...aa.definitions,...ta.definitions,...ia.definitions,...la.definitions,...ra.definitions,...sa.definitions]};function Qa(e,n){return{items:Ka(e?.items||[],n),totalCount:e?.totalCount||0}}function Ka(e,n){return e.map((e=>Ja(e,n))).filter(ma)}function Ja(e,n){if("Track"!==e.data?.__typename)return null;const a=e.data,t=a.albumOfTrack;return{type:ve.p.TRACK,uri:a.uri,name:a.name,isPlayable:a.playability.playable,album:{type:ve.p.ALBUM,uri:t?.uri||"",name:t?.name||"",images:t?.coverArt?.sources||[]},artists:a.artists.items.map((e=>({type:ve.p.ARTIST,name:e.profile.name,uri:e.uri}))),duration:{milliseconds:a.duration.totalMilliseconds},isExplicit:"EXPLICIT"===a.contentRating?.label,is19PlusOnly:"NINETEEN_PLUS"===a.contentRating?.label,requestId:n}}const et={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"searchTracks"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"offset"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"searchV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}},{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"Variable",name:{kind:"Name",value:"offset"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"query"}},{kind:"Field",name:{kind:"Name",value:"tracks"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchTrackDesktop"}}]}},{kind:"Field",name:{kind:"Name",value:"pagingInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nextOffset"}},{kind:"Field",name:{kind:"Name",value:"limit"}}]}}]}}]}}]}},...ra.definitions,...Qn.rD.definitions,...Qn.rA.definitions]},nt={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"searchTracksMeta"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"searchV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"query"}},{kind:"Field",name:{kind:"Name",value:"tracks"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}}]}}]}}]}}]};var at=a(74563);function tt(e,n){return{items:it(e?.items||[],n),totalCount:e?.totalCount||0}}function it(e,n){return e.map((e=>lt(e,n))).filter(ma)}function lt(e,n){if("User"!==e.data?.__typename)return null;const a=e.data,t=(0,at.p)({imageUriOrUrl:a.image?.largeImageUrl||a.image?.smallImageUrl||""});return{type:ve.p.USER,uri:a.uri,name:a.displayName||a.username,images:[{url:t,width:NaN,height:NaN}],requestId:n}}const rt={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"searchUsers"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"offset"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"searchV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}},{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"Variable",name:{kind:"Name",value:"offset"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"query"}},{kind:"Field",name:{kind:"Name",value:"users"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchUserDesktop"}}]}},{kind:"Field",name:{kind:"Name",value:"pagingInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nextOffset"}},{kind:"Field",name:{kind:"Name",value:"limit"}}]}}]}}]}}]}},...sa.definitions]},st={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"searchUsersMeta"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"searchV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"query"}},{kind:"Field",name:{kind:"Name",value:"users"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}}]}}]}}]}}]};function dt(e,n){return{items:(e?.items??[]).map((e=>{switch(e?.data?.__typename){case"Album":return Na(e,n);case"Artist":return ha(e,n);case"Audiobook":return Ca(e,n);case"Episode":return Va(e,n);case"Genre":return Oa(e,n);case"Playlist":return Ba(e,n);case"Podcast":return za(e,n);case"Track":return Ja(e,n);case"User":return lt(e,n);default:return console.warn("Unable to determine the correct type for item",e),null}})).filter(ma)}}function ot(e,n){const a=e?.featured||[];return{artistName:a.length?mt(e):"",items:a?.map((e=>Ba(e,n))).filter(ma)||[],totalCount:a.length||0}}function mt(e){const n=(0,Aa.wY)(e,"items",[]);try{return(0,Aa.U2)(n.filter(Boolean),"0.data")?.profile?.name||""}catch{return""}}const ct={items:[],artistName:"",totalCount:0};const ut={items:[],totalCount:0},kt={albums:ut,artists:ut,episodes:ut,genres:ut,playlists:ut,podcasts:ut,audiobooks:ut,topResults:{items:[]},tracks:ut,users:ut,topRecommendations:{artistName:"",items:[],totalCount:0},chipOrder:{items:[]}},pt={albums:async function(e,n){const a=await e(ga,n),t=a?.data?.searchV2?.albums;return t?pa(t,jn(a?.extensions)):null},artists:async function(e,n){const a=await e(ba,n),t=a?.data?.searchV2?.artists;return t?ya(t,jn(a?.extensions)):null},episodes:async function(e,n){const a=await e(wa,n),t=a?.data?.searchV2?.episodes;return t?Ra(t,jn(a?.extensions)):null},genres:async function(e,n){const a=await e(Ha,n),t=a?.data?.searchV2?.genres;return t?Pa(t,jn(a?.extensions)):null},playlists:async function(e,n){const a=await e(Wa,n),t=a?.data?.searchV2?.playlists;return t?Ma(t,jn(a?.extensions)):null},podcasts:async function(e,n){const a=await e(Xa,n),t=a?.data?.searchV2?.podcasts;return t?Za(t,jn(a?.extensions)):null},audiobooks:async function(e,n){const a=await e(Ta,n),t=a?.data?.searchV2?.audiobooks;return t?Fa(t,jn(a?.extensions)):null},tracks:async function(e,n){const a=await e(et,n),t=a?.data?.searchV2?.tracks;return t?Qa(t,jn(a?.extensions)):null},users:async function(e,n){const a=await e(rt,n),t=a?.data?.searchV2?.users;return t?tt(t,jn(a?.extensions)):null}},vt={albums:async function(e,n){return{items:[],totalCount:(await e(Sa,n))?.data?.searchV2?.albums?.totalCount||0}},artists:async function(e,n){return{items:[],totalCount:(await e(Ea,n))?.data?.searchV2?.artists?.totalCount||0}},episodes:async function(e,n){return{items:[],totalCount:(await e(qa,n))?.data?.searchV2?.episodes?.totalCount||0}},genres:async function(e,n){return{items:[],totalCount:(await e(_a,n))?.data?.searchV2?.genres?.totalCount||0}},playlists:async function(e,n){return{items:[],totalCount:(await e(Ga,n))?.data?.searchV2?.playlists?.totalCount||0}},podcasts:async function(e,n){return{items:[],totalCount:(await e(ja,n))?.data?.searchV2?.podcasts?.totalCount||0}},audiobooks:async function(e,n){return{items:[],totalCount:(await e(Da,n))?.data?.searchV2?.audiobooks?.totalCount||0}},tracks:async function(e,n){return{items:[],totalCount:(await e(nt,n))?.data?.searchV2?.tracks?.totalCount||0}},users:async function(e,n){return{items:[],totalCount:(await e(st,n))?.data?.searchV2?.users?.totalCount||0}}};class Nt{constructor(e){this._request=e}async getSearchResults(e,n=!1,a=0,t=10,i=5){const l={searchTerm:e,offset:a,limit:t,numberOfTopResults:i,includeAudiobooks:n},r=await this._request(ka,l),s=r?.data.searchV2;if(!s)return kt;const d=jn(r?.extensions),o=Yn(r?.extensions);return{albums:pa(s.albums,d),artists:ya(s.artists,d),episodes:Ra(s.episodes,d),genres:Pa(s.genres,d),playlists:Ma(s.playlists,d),podcasts:Za(s.podcasts,d),audiobooks:Fa(s.audiobooks??null,d),tracks:Qa(s.tracks,d),users:tt(s.users,d),topResults:dt(s.topResults,o),topRecommendations:ot(s.topResults,o),chipOrder:s.chipOrder}}async getSearchCategoryResults(e,n,a=0,t=25,i=10){const l={searchTerm:e,offset:a,limit:t,numberOfTopResults:i};return await pt[n](this._request,l)||ut}async getSearchCategoryResultsMeta(e,n){const a={searchTerm:e,limit:1,offset:0,numberOfTopResults:10};return await vt[n](this._request,a)||ut}async getFullEpisodes(e,n=0,a=25){const t={searchTerm:e,offset:n,limit:a};return await ua(this._request,t)||ut}getTopRecommendations(e){return async function(e,n){const a=await e(Ya,{searchTerm:n,numberOfTopResults:10}),t=a?.data?.searchV2?.topResults;return t?ot(t,Yn(a?.extensions)):ct}(this._request,e)}}var gt=a(15416),St=a(47402),yt=a(50060),ft=a(70666);const ht=t.memo((function({tracks:e,query:n}){const a=(0,t.useCallback)(((e,n)=>{const a=(0,on.X)(e.album?.images,{desiredSize:40}),i=!(!1===e.isPlayable);return t.createElement(mn.pt,{key:e.uri,uri:(0,cn.$)(e),duration:e.duration,name:e.name,album:e.album,artists:e.artists,isPlayable:i,isExplicit:e.isExplicit,is19PlusOnly:e.is19PlusOnly,index:n,imgUrl:a?.url||"",requestId:e.requestId})}),[]),i=(0,t.useMemo)((()=>[mn.QD.TITLE,mn.QD.DURATION]),[]),l=(0,t.useCallback)((e=>e.uri),[]);return e&&t.createElement(q.ZP,{value:"search-results-tracklist"},t.createElement(mn.Pv,{key:n,ariaLabel:d.ag.get("search.a11y.songs-search-results"),renderRow:a,rowPlaceholder:mn.hU,nrTracks:Math.min(e.length,4),tracks:e,resolveUri:l,columns:i}))}),((e,n)=>e.tracks===n.tracks)),bt="rP1oFnzzvss0GV6VPgGG",Et="XQakH0M0GDc6g6JKeyds",Ft="PW9eULMYYH14XQgoJ0ui",It="VL6wjp4Br_D3FEWrUGGR",Ct="QVIrLvegL13F9cEdMqfT",Tt="Lj3brgOJmjcq6MQ22XKq",Dt=({tracks:e,query:n,className:a,showSeeAll:i=!0,spec:l})=>{const r=(0,P.$P)(),s=(0,t.useCallback)((()=>t.createElement("div",{className:Tt},t.createElement(t.Suspense,{fallback:null},t.createElement(ht,{tracks:e.items,query:n})))),[n,e]),o=`spotify:app:search:${encodeURIComponent(n)}:tracks`,m=(0,t.useCallback)((()=>{const e=l.headerFactory().titleFactory().hitUiNavigate({destination:o});r.logInteraction(e)}),[r,l,o]),c=(0,t.useCallback)((()=>{const e=l.headerFactory().seeAllFactory().hitUiNavigate({destination:o});r.logInteraction(e)}),[r,l,o]);return e.items.length?t.createElement("section",{className:Ie()(Ct,a),"aria-label":d.ag.get("search.title.tracks"),"data-testid":"search-tracks-result"},t.createElement("div",{className:bt},e.items.length>3?t.createElement("div",{className:Et},t.createElement("div",{className:Ft},t.createElement(k.Dy,{as:"h2",variant:"canon"},i?t.createElement(b.r,{to:o,className:It,onClick:m},d.ag.get("search.title.tracks")):t.createElement("span",{className:It},d.ag.get("search.title.tracks")))),i&&t.createElement(ft.SeeAll,{link:o,onClick:c})):t.createElement(k.Dy,{as:"h2",variant:"canon",className:It},d.ag.get("search.title.tracks"))),t.createElement(P.Nh,{spec:l},t.createElement(y.T,{render:s}))):null},At=({topRecommendations:e,query:n,className:a,onAddToHistory:i,position:l,showSeeAll:r})=>{const s=e.totalCount||0;return t.createElement(te.q,{index:l,id:"top-recommendations",className:a,total:s,title:d.ag.get("artist-page.featuring",e.artistName),seeAllUri:`spotify:app:search:${encodeURIComponent(n)}:topRecommendations`,showSeeAll:r},e.items.map(((e,n)=>t.createElement(q.ZP,{index:n,key:e.uri,value:"top-recommendations"},t.createElement(Ne,{onClick:()=>i(e),entity:e,index:n})))))},Rt="iGyMsGo7FgYQQThBj2y9",xt="eITFAR9yPwhjL_2gxB09",Vt="nGARy02O1AklvHT7OBLA",wt="EFHPppToKFxfm6SRhL6K",qt="EbZrO5qZMclA_AaI3NV8",Pt="rjgEnbv42_EUDbaiZnA2",Ut="FTRmZyHUkeVY_X3RawUc",Ot="Tx_CKMgRE8CpW5vLdpAe",Ht=({topResults:e,onAddToHistory:n})=>{const[a]=e.items;return a&&t.createElement(U.P,{total:1,className:Rt,title:d.ag.get("search.title.top-result")},[t.createElement("div",{"aria-live":"polite","data-testid":"top-result-card",key:"top-result-item",className:xt},t.createElement(q.ZP,{value:"top-result-card"},t.createElement(Ne,{isHero:!0,index:0,onClick:()=>n(a),entity:a})))])},_t=({results:e,showSeeAll:n})=>{const{query:a,onAddToHistory:i,serpId:l}=We(),r=H().searchURI(a).toURI(),{spec:s,UBIFragment:d}=(0,P.fU)(yt.createDesktopSearchEventFactory,{data:{uri:r,reason:l}}),o=e.topResults.items.length>0,m=e.tracks.items.length>0,c=e.topRecommendations.items.length>0,u=(0,t.useMemo)((()=>({topResult:s.topResultFactory(),trackList:s.trackListFactory(),shelves:s.shelvesFactory()})),[s]);return t.createElement(y.T,{className:Vt,rowGap:_.mGT,testId:"search-results",render:l=>{let r,s;return o?r=l>3?qt:Pt:c&&(l>5&&m?(r=wt,s=Ut):(r=Pt,s=Ot)),t.createElement(q.ZP,{value:"search-results"},o&&t.createElement(d,{spec:u.topResult},t.createElement(Ht,{topResults:e.topResults,onAddToHistory:i})),m&&t.createElement(Dt,{spec:u.trackList,className:r,query:a,tracks:e.tracks,onAddToHistory:i,showSeeAll:n}),c&&t.createElement(d,{spec:u.shelves},t.createElement(At,{position:0,query:a,className:s,topRecommendations:e.topRecommendations,onAddToHistory:i,showSeeAll:n})),Vn.map(((l,r)=>t.createElement(d,{spec:u.shelves,key:`search-shelf-${l}`},t.createElement(pn,{position:r+1,category:l,title:xn[l](),query:a,results:e[l],onAddToHistory:i,showSeeAll:n})))))}})},Mt="khkfPsJuVBQyL_5cLT7y",Lt="bJyiOTqabfm7aDjWzaY0",Bt={albums:s.W.SEARCH_ALBUMS,artists:s.W.SEARCH_ARTISTS,episodes:s.W.SEARCH_EPISODES,genres:s.W.SEARCH_GENRES,playlists:s.W.SEARCH_PLAYLISTS,podcasts:s.W.SEARCH_SHOWS,audiobooks:s.W.SEARCH_AUDIOBOOKS,tracks:s.W.SEARCH_SONGS,users:s.W.SEARCH_PROFILES,podcastAndEpisodes:s.W.SEARCH_PODCASTS_AND_EPISODES,episodesFull:s.W.SEARCH_EPISODES},Wt=({query:e,category:n})=>["spotify:app:search",e,n].filter((e=>void 0!==e)).join(":"),Gt=({results:e,hasResults:n})=>t.createElement(q.ZP,{value:"search-page"},t.createElement("div",{className:"contentSpacing",id:"searchPage"},t.createElement(y.T,{className:Mt,render:()=>t.createElement(t.Fragment,null,t.createElement($n.w,null,t.createElement(St.M,null)),t.createElement(Bn.N,{exact:!0,path:"/search",pageId:s.W.FIND,entityUri:Wt},t.createElement(Ee,null)),t.createElement(Bn.N,{exact:!0,path:"/recent-searches",pageId:s.W.SEARCH_RECENT},t.createElement(Ln,null)),t.createElement(Bn.N,{exact:!0,path:"/search/:query",pageId:s.W.SEARCH,entityUri:Wt},e&&n&&t.createElement(_t,{results:e}),e&&!n&&t.createElement(Qe,null)),t.createElement(Bn.N,{path:"/search/:query/:category",entityUri:Wt,pageId:({category:e})=>Bt[e]},t.createElement(Rn,null)))}))),Zt=({results:e,hasResults:n})=>t.createElement(q.ZP,{value:"search-page"},t.createElement($n.w,null,t.createElement(St.M,{isSearchChipsEnabled:!0})),t.createElement(On,{results:e,hasResults:n}),t.createElement("div",{className:"contentSpacing",id:"searchPage"},t.createElement(y.T,{className:Lt,render:()=>t.createElement(t.Fragment,null,t.createElement(Bn.N,{exact:!0,path:"/search",pageId:s.W.FIND,entityUri:Wt},t.createElement(Ee,null)),t.createElement(Bn.N,{exact:!0,path:"/recent-searches",pageId:s.W.SEARCH_RECENT},t.createElement(Ln,null)),t.createElement(Bn.N,{exact:!0,path:"/search/:query",pageId:s.W.SEARCH,entityUri:Wt},e&&n&&t.createElement(_t,{results:e,showSeeAll:!1}),e&&!n&&t.createElement(Qe,null)),t.createElement(Bn.N,{path:"/search/:query/:category",entityUri:Wt,pageId:({category:e})=>Bt[e]},e&&n&&t.createElement(An,{results:e}),e&&!n&&t.createElement(Qe,null)))}))),$t=t.memo((function(){const e=(0,r.W6)(c.uB),n=(0,r.W6)(c.SU),[{category:a,query:i},s]=(0,gt.l)();(0,zn.z)("search");const[o,m]=(0,t.useState)(null),u=null!==o&&void 0!==Object.keys(o).find((e=>"chipOrder"!==e&&o[e].items.length>0)),k=(0,t.useMemo)((()=>new Nt((0,Gn.PQ)(Wn.b.getInstance()))),[]),{searchHistory:p,setSearchHistory:v}=(0,he.u)(),N=(0,t.useCallback)((async(e,t=!1)=>{e===i&&u||(n?s(e,a,!1):(m(null),s(e,null,t)))}),[i,a,u,n,s]);(0,t.useEffect)((()=>{(async()=>{i&&(!n&&a||m(await k.getSearchResults(i,e)))})()}),[i,a,k,e,n]),(0,t.useEffect)((()=>{i||m(null)}),[i]);const g=(0,t.useMemo)((()=>l().create().toString()),[a,i]),S={api:k,category:a,query:i,onAddToHistory:e=>{v([e,...p])},onSearchRequest:N,serpId:g};return t.createElement(Be,{value:S},t.createElement(Zn.$,null,d.ag.get("search.page-title")),n?t.createElement(Zt,{results:o,hasResults:u}):t.createElement(Gt,{results:o,hasResults:u}))})),zt=$t},47917:(e,n,a)=>{a.d(n,{V:()=>R,e:()=>D});var t=a(67294),i=a(46458),l=a(69518),r=a.n(l),s=a(33702),d=a(84629),o=a(43914),m=a(25988),c=a(68556),u=a(95806),k=a(99191),p=a(56802),v=a(38894),N=a(80219),g=a(18261),S=a(62975),y=a(87257),f=a(57978),h=a(75016),b=a(42922),E=a(18864),F=a(52759),I=a(54444),C=a(7073),T=a(84788);function D(e){return{uri:e.uri,name:e.name,trailer:e.trailer,showTypes:e.showTypes}}const A=e=>`activation-trigger-mme-${e}`,R=t.memo((function({index:e,showMetadata:n,episode:a,usePlayContextItem:l}){const R=(0,i.oR)().getState().platform?.isBrowser,x=a.playedState.playPositionMilliseconds,V=a.uri,w=(0,t.useRef)(null),[q,P]=(0,t.useState)(a.playedState.state===C.sY.Completed),U=(0,k.O1)(),O=(0,v.g)(),H=(0,E.jh)(),_=(0,p.o)(),M=(0,i.I0)(),{UBIFragment:L,spec:B,logger:W}=(0,I.fU)(s.createDesktopEpisodeBlockEventFactory,{data:{uri:V,reason:a.requestId||"",position:e}}),G=(0,I.Wi)(B),{isActive:Z,isPlaying:$,togglePlay:z}=l({uri:V}),[X]=(0,F.z)(1e4,(e=>e?.item?.uri===V));(0,t.useEffect)((()=>{$&&(w.current=X)}),[$,X]),(0,t.useEffect)((()=>{!$&&w.current&&a.duration.milliseconds<=w.current&&P(!0)}),[$,a.duration.milliseconds]);const j=(0,t.useCallback)((e=>{e||(w.current=0),P(e)}),[]),Y=D(n),Q=(0,N.s)({...a,coverArt:{sources:a.coverArt}},Y),K=(0,t.useCallback)((()=>{if(a.episodeType===C.Wf.Episode&&R)S.y.set((()=>({triggerId:A(a.uri),triggerAction:null})));else if(O)Q();else{let e;e=$?B.playButtonFactory().hitPause({itemToBePaused:V}):Z?B.playButtonFactory().hitResume({itemToBeResumed:V}):B.playButtonFactory().hitPlay({itemToBePlayed:V});const n=W.logInteraction(e);_({targetUri:V,intent:$?"pause":"play",type:"click"}),z({loggingParams:n})}}),[Z,Q,_,z,V,$,O,a,R,W,B]),J=(0,t.useCallback)((()=>{W.logInteraction(B.hitUiNavigate({destination:V})),_({type:"click",targetUri:V,intent:"navigate"})}),[V,_,W,B]),ee=a.podcastSubscription?.isPaywalled??!1,ne=a.podcastSubscription?.isUserSubscribed??!1,ae=ee&&!ne,te=ee&&O,{badges:ie}=(0,T.r)({contentRating:a.contentRating?.label,isPaywalled:ee}),le=(0,t.useCallback)((()=>M((0,d.RM)(n.uri))),[n.uri,M]),re=(0,t.useCallback)((e=>{let i=e;return(ae||te)&&(i=t.createElement(u.l,{enabled:!0,showUri:n.uri},i)),!a.playability.playable&&ie.nineteen&&(i=t.createElement("div",{onClick:e=>{e.stopPropagation(),le()}},e)),i=t.createElement(o.D,{id:A(V),targetURI:r().from(V)},i),i}),[V,ae,te,n.uri,ie.nineteen,a.playability.playable,le]);return t.createElement(L,{spec:B},t.createElement(b.ZP,{value:"row",index:e},t.createElement(g._,{onShow:()=>{W.logInteraction(B.secondaryHitUiReveal())},menu:t.createElement(m.k,{uri:V,showUri:n.uri,sharingInfo:a.sharingInfo,isPlayed:q,onMarkAsPlayed:j})},t.createElement(c.X,{ref:G,requestId:a.requestId,index:e,uri:V,size:H,images:a.coverArt||[],name:a.name,showName:n.name,description:a.description,isPlayable:a.playability.playable||ae,fullyPlayed:q,durationMs:a.duration.milliseconds,releaseDate:a.releaseDate?.isoString||"",resumePositionMs:w.current??x,handleDragStart:e=>{if(e.target!==e.currentTarget)return;const t=`${a.name} • ${n.name}`;U(e,[V],t,n.uri)},handlePlaybackClick:K,handleClick:J,isCurrentlyPlaying:Z,isPaywalled:ee,isUserSubscribed:ne,isPlaying:$,position:$?X:void 0,episodeSharingInfo:a.sharingInfo,onMarkAsPlayed:j,contentInformation:a.contentInformation,badges:t.createElement(t.Fragment,null,ie.explicit&&t.createElement(y.N,null),ie.paid&&t.createElement(h.g,null),ie.nineteen&&t.createElement(f.X,{size:16})),playButtonWrapper:re,onMoreButtonClick:()=>{W.logInteraction(B.moreButtonFactory().hitUiReveal())}}))))}))},38894:(e,n,a)=>{a.d(n,{g:()=>l});var t=a(46458),i=a(29255);const l=()=>(0,t.v9)(i.Gg).isAnonymous},80219:(e,n,a)=>{a.d(n,{s:()=>u});var t=a(67294),i=a(56802);const l=e=>e<=64?"small":e>640?"xlarge":e>300?"large":"standard";function r(e,n){return e.filter((e=>e.label?e.label===n:e.width?l(e.width)===n:!!e.height&&l(e.height)===n))[0]}var s=a(67789);function d(e){const n=r(e,"standard"),a=r(e,"large"),t=r(e,"small"),i=r(e,"xlarge");return{image_url:n?.url,image_height:n?.height?.toString(),image_width:n?.width?.toString(),image_url_large:a?.url,image_height_large:a?.height?.toString(),image_width_large:a?.width?.toString(),image_url_small:t?.url,image_height_small:t?.height?.toString(),image_width_small:t?.width?.toString(),image_url_xlarge:i?.url,image_height_xlarge:i?.height?.toString(),image_width_xlarge:i?.width?.toString()}}var o=a(23716),m=a(69691),c=a(42781);function u(e,n){const a=(0,i.o)(),l=(0,o.g)(),{isPlaying:r,isActive:u}=(0,m.$o)(e?.uri||""),{isActive:k}=(0,m.cR)(n?.uri||"");return(0,t.useCallback)((t=>{if(!n||!e)return;const i=function(e,n){const a=(e.coverArt?.sources||[]).sort(((e,n)=>(n.width||0)-(e.width||0))),t=(0,s.Xb)(e,n),i=(0,s.Ie)(n)||t;return{uri:e.uri,title:e.name,subtitle:n.name,type:"episode",album_uri:n.uri,album_title:n.name,artist_uri:n.uri,artist_name:n.name,...d(a),media_type:"audio",externalResolvedUrl:e.audio?.items?.find((e=>e.externallyHosted))?.url,isTrailer:t,anonymousPlaybackAllowed:i}}(e,n);k&&!r&&u&&!t?l.resume():k&&r&&!t?(a({type:"click",intent:"pause",targetUri:e.uri}),l.pause()):(a({type:"click",intent:"play",targetUri:e.uri}),l.play({uri:n.uri,pages:[{items:[{type:c.p.EPISODE,uri:e.uri,uid:null,metadata:i,provider:null}]}]},{referrerIdentifier:l.getReferrer(),featureIdentifier:"episode"},t))}),[u,r,k,l,a,n,e])}},47991:(e,n,a)=>{a.d(n,{$:()=>t});const t=e=>e?.linked_from?.uri||e.uri}}]);
//# sourceMappingURL=xpui-routes-search.js.map