"use strict";(("undefined"!=typeof self?self:global).webpackChunkopen=("undefined"!=typeof self?self:global).webpackChunkopen||[]).push([[6984],{54543:(e,t,n)=>{n.d(t,{q:()=>w});var a=n(67154),r=n.n(a),i=n(67294),s=n(69518),l=n.n(s),c=n(63495),o=n(36590),m=n(51079),d=n(47418),u=n(11186);const g=({name:e="",uri:t="",images:n=[],isHero:a,onClick:r,testId:s,index:l})=>a?i.createElement(d.Z,{featureIdentifier:"unknown",index:l,onClick:r,headerText:e,uri:t,isPlayable:!1,renderCardImage:()=>i.createElement(m.x,{isHero:a,images:n}),renderSubHeaderContent:()=>i.createElement(u.k,null),testId:s}):i.createElement(o.C,{index:l,featureIdentifier:"unknown",onClick:r,headerText:e,uri:t,isPlayable:!1,renderCardImage:()=>i.createElement(m.x,{isHero:a,images:n}),renderSubHeaderContent:()=>i.createElement("span",null),testId:s});var p=n(73425),E=n(143),f=n(64269),I=n(3634),y=n(89477),h=n(16061),x=n(46309),b=n(30523),C=n(52778),k=n(95332),v=n(46327);const w=({entity:e,index:t,testId:n,isHero:a=!1})=>{const s=(l().from(e.uri)||{}).type,o={testId:n,isHero:a,index:t,sharingInfo:e.sharingInfo};switch(s){case l().Type.ALBUM:case l().Type.COLLECTION_ALBUM:{const t=e;return i.createElement(I.r,r()({},o,{name:t.name,uri:t.uri,images:t.images,artists:t.artists}))}case l().Type.ARTIST:{const t=e;return i.createElement(y.I,r()({},o,{name:t.name,uri:t.uri,images:t.images}))}case l().Type.EPISODE:{const t=e;return i.createElement(h.B,r()({},o,{name:t.name,uri:t.uri,images:t.images,showImages:t.show?.images||[],durationMilliseconds:t.duration_ms,releaseDate:t.release_date,resume_point:t.resume_point,description:t.description,isExplicit:t.explicit,is19PlusOnly:!!t.tags?.includes("MOGEF-19+")}))}case l().Type.PLAYLIST:case l().Type.PLAYLIST_V2:{const t=e,n=t.owner?.display_name||e.owner?.displayName||"";return i.createElement(x.Z,r()({},o,{name:t.name,uri:t.uri,images:t.images,description:t.description,authorName:n}))}case l().Type.USER:return i.createElement(b.P,r()({},o,{name:e.name,uri:e.uri,images:e.images}));case l().Type.SHOW:{const t=e;return i.createElement(k._,r()({},o,{name:t.name,uri:t.uri,images:t.images,publisher:t.publisher,mediaType:{audio:E.E.AUDIO,video:E.E.VIDEO,mixed:E.E.MIXED}[t.media_type]??E.E.AUDIO}))}case l().Type.APPLICATION:return i.createElement(c.s,r()({},o,{name:e.name,uri:e.uri,images:e.images,description:e.description}));case l().Type.RADIO:return i.createElement(C.I,{testId:n,index:t,name:e.name,uri:e.uri,images:e.images});case l().Type.TRACK:{const t=e;return i.createElement(v.G,r()({},o,{name:t.name,uri:t.uri,images:t.album?.images||[],artists:t.artists,album:t.album,isExplicit:t.explicit,is19PlusOnly:t.tags?.includes("MOGEF-19+")}))}case l().Type.COLLECTION:return e.uri.endsWith("your-episodes")?i.createElement(f.T,{index:t}):i.createElement(p.p,{index:t});default:return console.warn("Rendering a generic Card for unknown type:",s),i.createElement(g,r()({},o,{name:e.name,uri:e.uri,images:e.images}))}}},16061:(e,t,n)=>{n.d(t,{B:()=>N});var a=n(67154),r=n.n(a),i=n(67294),s=n(20657),l=n(18261),c=n(87257),o=n(57978),m=n(80418),d=n(34325),u=n(43315),g=n(49961),p=n(25988),E=n(36590),f=n(51079),I=n(28760),y=n(97605),h=n(85392);const x="z4popIk32AsyDKlV1o1v",b="_xxuonqkZEQ7pCffxlUD",C=i.memo((function(e){const{src:t,description:n,...a}=e,[s,l]=(0,i.useState)("inherit");return(0,i.useEffect)((()=>{t&&async function(e){const{colorRaw:t}=await(0,h.b)(e),{h:n,s:a,l:r}=t.hsl,i=`hsl(${360*n}, ${100*a}%, ${Math.min(100*r,30)}%)`;l(i)}(t)}),[t]),t?i.createElement("div",{className:x,style:{backgroundColor:s},"data-testid":"episode-fallback-image-container"},i.createElement("div",{className:b},i.createElement(I.Dy,{as:"p",variant:"canon"},n))):i.createElement(y.J,r()({},a,{iconSize:64}))}));var k=n(47418),v=n(11186);const w="x1FErCk9Xh9VumpOLyfm",T="heeHk6hz8sAXLIU6P6an",P="Hhfi1xnYwoHoMP2rcltS",N=({description:e,isExplicit:t,images:n,name:a,uri:I,durationMilliseconds:y,releaseDate:h,resume_point:x,showImages:b,sharingInfo:N,is19PlusOnly:S,isHero:_,onClick:H,testId:L,index:A,requestId:D})=>{let O;const q=h?new Date(h):void 0,M=q&&!isNaN(q.getTime())&&!isNaN(y),R=(0,g.X)(b,{desiredSize:48}),z=(0,d.G3)(I,q?.toISOString(),x?.resume_position_ms,x?.fully_played);return O=_?i.createElement(k.Z,{index:A,onClick:H,headerText:a,featureIdentifier:"episode",uri:I,isPlayable:!1,isDownloadable:!0,hasNewEpisodeIndicator:z,renderCardImage:()=>i.createElement(f.x,{isHero:!0,images:n,FallbackComponent:t=>i.createElement(C,r()({},t,{description:e,src:R&&R.url}))},R&&i.createElement(m.E,{loading:"lazy",src:R.url,className:w,radius:4})),renderSubHeaderContent:()=>i.createElement(i.Fragment,null,t&&!S&&i.createElement(c.N,{className:T}),S&&i.createElement(o.X,{size:16,className:T}),M&&i.createElement("span",{className:P},q&&(0,u.rL)(q)," ·"," ",s.ag.get("episode.length",Math.floor(y/6e4))),i.createElement(v.k,null,s.ag.get("card.tag.episode"))),testId:L,requestId:D}):i.createElement(E.C,{index:A,onClick:H,headerText:a,featureIdentifier:"episode",uri:I,isPlayable:!1,isDownloadable:!0,hasNewEpisodeIndicator:z,renderCardImage:()=>i.createElement(f.x,{images:n,FallbackComponent:t=>i.createElement(C,r()({},t,{description:e,src:R&&R.url}))},R&&i.createElement(m.E,{loading:"lazy",src:R.url,className:w,radius:4,testid:"episode-card-show-image"})),renderSubHeaderContent:()=>i.createElement(i.Fragment,null,t&&!S&&i.createElement(c.N,{className:T}),S&&i.createElement(o.X,{size:16,className:T}),M&&i.createElement("span",{className:P},q&&(0,u.rL)(q)," ·"," ",s.ag.get("episode.length",Math.floor(y/6e4)))),testId:L,requestId:D}),i.createElement(l._,{menu:i.createElement(p.k,{uri:I,sharingInfo:N})},O)}},63495:(e,t,n)=>{n.d(t,{s:()=>o});var a=n(67294),r=n(20657),i=n(36590),s=n(51079),l=n(47418),c=n(11186);const o=({name:e,uri:t,images:n,isHero:o,onClick:m,testId:d,description:u,index:g,requestId:p})=>o?a.createElement(l.Z,{featureIdentifier:"genre",index:g,onClick:m,headerText:e,uri:t,isPlayable:!1,renderCardImage:()=>a.createElement(s.x,{isHero:o,images:n}),renderSubHeaderContent:()=>a.createElement(c.k,null,u||r.ag.get("card.tag.genre")),testId:d,requestId:p}):a.createElement(i.C,{index:g,featureIdentifier:"genre",onClick:m,headerText:e,uri:t,isPlayable:!1,renderCardImage:()=>a.createElement(s.x,{isHero:o,images:n}),renderSubHeaderContent:()=>a.createElement("span",null,u||""),testId:d,requestId:p})},30523:(e,t,n)=>{n.d(t,{P:()=>p});var a=n(67154),r=n.n(a),i=n(67294),s=n(5843),l=n(20657),c=n(18261),o=n(43480),m=n(36590),d=n(51079),u=n(47418),g=n(11186);const p=i.memo((function(e){const{images:t,name:n,uri:a,onClick:p,isHero:E,testId:f,index:I,requestId:y}=e;let h;const x=(0,i.useCallback)((()=>i.createElement(d.x,{isCircular:!0,isHero:E,images:t,FallbackComponent:e=>i.createElement(s.a,r()({iconSize:64},e))})),[t,E]),b=(0,i.useCallback)((()=>E?i.createElement(g.k,null,l.ag.get("card.tag.profile")):l.ag.get("card.tag.profile")),[E]);return h=E?i.createElement(u.Z,{index:I,onClick:p,headerText:n,featureIdentifier:"profile",uri:a,isPlayable:!1,renderCardImage:x,renderSubHeaderContent:b,testId:f,requestId:y}):i.createElement(m.C,{index:I,onClick:p,headerText:n,featureIdentifier:"profile",uri:a,isPlayable:!1,renderCardImage:x,renderSubHeaderContent:b,testId:f,requestId:y}),i.createElement(c._,{menu:i.createElement(o.I,{uri:a})},h)}))},22578:(e,t,n)=>{n.d(t,{$:()=>u});var a=n(67294),r=n(64593),i=n(20657),s=n(69691),l=n(8341),c=n(89952),o=n(52883),m=n(24183);function d(e){return e.includes("Spotify")?e:`Spotify – ${e}`}const u=({children:e,usePlayingItem:t})=>{let n=d(e);(e=>{const{mainLandmarkRef:t}=(0,m.Oh)(),n=(0,o.k6)(),r=n.location?.state?.preventMoveFocus,i=(0,a.useRef)(n.length<2);i.current=n.length<2,(0,a.useEffect)((()=>{const n=t.current;!r&&!i.current&&n&&e&&(n.setAttribute("aria-label",e),n.focus())}),[e,t,r])})(e);const{isPlaying:u}=(0,s.IK)(),g=(0,l.Y)((e=>e?.item));return g&&(u||t)&&((0,c.G_)(g)?n=[g.name,g.artists.map((e=>e.name)).join(i.ag.getSeparator())].join(" • "):(0,c.iw)(g)?n=[g.name,g.show.name].join(" • "):(0,c.k6)(g)&&(n=d(i.ag.get("ad-formats.advertisement")))),a.createElement(r.q,{defaultTitle:"Spotify",defer:!1},a.createElement("title",null,n))}},70369:(e,t,n)=>{n.d(t,{$:()=>a.$});var a=n(22578)},86964:(e,t,n)=>{n.d(t,{c:()=>b});var a=n(67294),r=n(54543),i=n(18686),s=n(54358),l=n(42922),c=n(21794),o=n(43076),m=n(28760),d=n(87577),u=n(49207),g=n(67892);const p="EPMDgp7znILo0hvyirzv",E="noUm6pjQ6KWq7mVxYDor",f="PqnKjxzJ1Zvr9qKRlRbO",I="uuBQS9Ym_VPmAQrLhPQb",y=e=>(0,d.W6)(u.sE)?a.createElement(g.Z,{to:e.uri,target:"_blank",className:p},a.createElement("div",{className:E}),a.createElement(m.Dy,{className:f,as:"h2",variant:"alto"},e.label),a.createElement(m.Dy,{className:I,as:"p",variant:"mesto"},e.tagline)):null,h=e=>a.createElement(a.Suspense,{fallback:null},a.createElement(y,e)),x=e=>e.id?.startsWith("scc-corona"),b=({spaces:e,viewName:t,viewId:n,isAnonymous:m})=>{const d=(0,a.useCallback)(((e,t)=>{const i=((e,t)=>{let{uri:n}=e;return e.href.includes("https://api.spotify.com/v1/views/")&&(n=e.href.replace("https://api.spotify.com/v1/views/","spotify:genre:"),"hub-browse-grid"===t&&(n=n.replace(":view:",":genre:"))),n})(e,n);return a.createElement(r.q,{key:e.href,index:t,entity:{...e,uri:i}})}),[n]),u=(0,a.useCallback)(((e,t)=>a.createElement(l.JL,{key:e.uri||t,value:"card",index:t},a.createElement(r.q,{index:t,entity:e}))),[]),g=(0,a.useCallback)(((e,t)=>"link"===e.type?d(e,t):u(e,t)),[u,d]),p=(0,a.useCallback)((e=>!!x(e)||!((e=>"HEADER"===e.rendering)(e)||0===e.content.total||m&&"uniquely-yours-shelf"===e.id)),[m]);return e&&0!==e.length?e[0].content?a.createElement(a.Fragment,null,e.filter(p).map(((e,t)=>{const r=e.content&&(0,c.p)((0,c.S)(e.href));if(e.id===s.RECENTLY_PLAYED_VIEW_ID||e.id===o.u)return a.createElement(l.JL,{value:"headered-grid",index:t,key:e.id},a.createElement(s.RecentlyPlayed,{showAll:!1,index:t}));if(x(e)){const t=e.content.items[0];return t&&t.name&&t.description&&t.href?a.createElement(h,{key:"corona-banner",label:t.name,tagline:t.description,uri:t.href}):null}return a.createElement(l.JL,{value:"headered-grid",index:t,key:e.id},a.createElement(i.q,{total:e.content.total,seeAllUri:r,pageId:n,title:e.name,tagline:e.tag_line||void 0,index:t,id:e.id},e.content.items.map(g)))}))):a.createElement(l.JL,{value:"headered-grid"},a.createElement(i.q,{showAll:!0,title:t,total:e?.length||0,index:0,id:n??"spaces-see-all-grid"},e?.map(g))):null}},23809:(e,t,n)=>{n.d(t,{P:()=>u});var a=n(67294),r=n(26991),i=n(88767),s=n(26529),l=n(94321),c=n(29255),o=n(46458),m=n(87577),d=n(8247);const u=(e,t)=>{const n=(()=>{const e=(0,m.W6)(d.Xf),t=(0,o.v9)(l.rZ),{locale:n,overrides:r}=(0,o.v9)(c.Gg),i=r?.country||t,s=r?.locale||n;return(0,a.useMemo)((()=>{const t=["album","playlist","artist","show","station","episode"];return e&&t.push("uri_link"),{country:i,locale:s,types:t.join(",")}}),[i,e,s])})(),{data:u,fetchNextPage:g}=(0,i.useInfiniteQuery)(["useView",e,n],(async({pageParam:t})=>void 0===t?async function(e,t){const{body:n}=await r.kO.getView(s.b.getInstance(),e,t);return n}(e,n):async function(e){const{body:t}=await r.TV.getGeneric(s.b.getInstance(),e);return t}(t)),{cacheTime:t?.cacheTime??18e5,staleTime:t?.staleTime??3e5,getNextPageParam:e=>e.content.next??void 0,getPreviousPageParam:e=>e.content.previous??void 0});return{view:(0,a.useMemo)((()=>u?.pages.reduce(((e,t)=>({...e,content:{...e.content,href:t.content.href,next:t.content.next,offset:t.content.offset,previous:t.content.previous,total:t.content.total,items:e.content.items.concat(t.content.items)}})))),[u?.pages]),getNextPage:g}}}}]);
//# sourceMappingURL=6984.js.map