"use strict";(("undefined"!=typeof self?self:global).webpackChunkopen=("undefined"!=typeof self?self:global).webpackChunkopen||[]).push([[1554],{43914:(e,t,a)=>{a.d(t,{D:()=>c});var n=a(67294),r=a(20657),l=a(76439),i=a(46259),s=a(56802),o=a(61290);const c=({id:e,children:t,targetURI:a,fadeOut:c=!1})=>{const m=(0,n.useCallback)((()=>{window.open((0,i.cd)(a).href)}),[a]),d={getTitle:()=>r.ag.get("action-trigger.available-in-app-only"),getDescription:()=>r.ag.get("action-trigger.listen-mixed-media-episode"),primaryButtonText:()=>r.ag.get("action-trigger.button.get-app"),secondaryButtonText:()=>r.ag.get("action-trigger.button.not-now"),isCTA:!0,intentPrimaryButton:"download-app",onLogInteraction:(0,s.o)(),shouldHideOnScroll:!0,fadeOut:c};return n.createElement(l.P,{className:o.Z.container,id:e,onPrimaryButtonClick:m,options:d},t)}},16061:(e,t,a)=>{a.d(t,{B:()=>T});var n=a(67154),r=a.n(n),l=a(67294),i=a(20657),s=a(18261),o=a(87257),c=a(57978),m=a(80418),d=a(34325),u=a(43315),g=a(49961),p=a(25988),h=a(36590),E=a(51079),b=a(28760),f=a(97605),k=a(85392);const C="z4popIk32AsyDKlV1o1v",y="_xxuonqkZEQ7pCffxlUD",x=l.memo((function(e){const{src:t,description:a,...n}=e,[i,s]=(0,l.useState)("inherit");return(0,l.useEffect)((()=>{t&&async function(e){const{colorRaw:t}=await(0,k.b)(e),{h:a,s:n,l:r}=t.hsl,l=`hsl(${360*a}, ${100*n}%, ${Math.min(100*r,30)}%)`;s(l)}(t)}),[t]),t?l.createElement("div",{className:C,style:{backgroundColor:i},"data-testid":"episode-fallback-image-container"},l.createElement("div",{className:y},l.createElement(b.Dy,{as:"p",variant:"canon"},a))):l.createElement(f.J,r()({},n,{iconSize:64}))}));var N=a(47418),S=a(11186);const v="x1FErCk9Xh9VumpOLyfm",_="heeHk6hz8sAXLIU6P6an",w="Hhfi1xnYwoHoMP2rcltS",T=({description:e,isExplicit:t,images:a,name:n,uri:b,durationMilliseconds:f,releaseDate:k,resume_point:C,showImages:y,sharingInfo:T,is19PlusOnly:I,isHero:L,onClick:D,testId:B,index:P,requestId:F})=>{let U;const X=k?new Date(k):void 0,M=X&&!isNaN(X.getTime())&&!isNaN(f),O=(0,g.X)(y,{desiredSize:48}),H=(0,d.G3)(b,X?.toISOString(),C?.resume_position_ms,C?.fully_played);return U=L?l.createElement(N.Z,{index:P,onClick:D,headerText:n,featureIdentifier:"episode",uri:b,isPlayable:!1,isDownloadable:!0,hasNewEpisodeIndicator:H,renderCardImage:()=>l.createElement(E.x,{isHero:!0,images:a,FallbackComponent:t=>l.createElement(x,r()({},t,{description:e,src:O&&O.url}))},O&&l.createElement(m.E,{loading:"lazy",src:O.url,className:v,radius:4})),renderSubHeaderContent:()=>l.createElement(l.Fragment,null,t&&!I&&l.createElement(o.N,{className:_}),I&&l.createElement(c.X,{size:16,className:_}),M&&l.createElement("span",{className:w},X&&(0,u.rL)(X)," ·"," ",i.ag.get("episode.length",Math.floor(f/6e4))),l.createElement(S.k,null,i.ag.get("card.tag.episode"))),testId:B,requestId:F}):l.createElement(h.C,{index:P,onClick:D,headerText:n,featureIdentifier:"episode",uri:b,isPlayable:!1,isDownloadable:!0,hasNewEpisodeIndicator:H,renderCardImage:()=>l.createElement(E.x,{images:a,FallbackComponent:t=>l.createElement(x,r()({},t,{description:e,src:O&&O.url}))},O&&l.createElement(m.E,{loading:"lazy",src:O.url,className:v,radius:4,testid:"episode-card-show-image"})),renderSubHeaderContent:()=>l.createElement(l.Fragment,null,t&&!I&&l.createElement(o.N,{className:_}),I&&l.createElement(c.X,{size:16,className:_}),M&&l.createElement("span",{className:w},X&&(0,u.rL)(X)," ·"," ",i.ag.get("episode.length",Math.floor(f/6e4)))),testId:B,requestId:F}),l.createElement(s._,{menu:l.createElement(p.k,{uri:b,sharingInfo:T})},U)}},70369:(e,t,a)=>{a.d(t,{$:()=>n.$});var n=a(22578)},31610:(e,t,a)=>{a.d(t,{o:()=>o,q:()=>l.q});var n=a(67294),r=a(4383),l=a(90110),i=a(56802);const s=n.memo((function({uri:e,bookUri:t,size:a=l.q.md,className:s,onClick:o=(()=>{})}){const[c,m]=(0,r.Z)(t),d=(0,i.o)(),u=(0,n.useCallback)((()=>{d({targetUri:t,intent:"add-to-library",type:"click"}),m(!0)}),[d,t,m]);return n.createElement(l.o,{className:s,isFollowing:c,onFollow:u,uri:e,size:a,onClick:o})})),o=n.memo((function(e){return n.createElement(s,e)}))},38894:(e,t,a)=>{a.d(t,{g:()=>l});var n=a(46458),r=a(29255);const l=()=>(0,n.v9)(r.Gg).isAnonymous},80219:(e,t,a)=>{a.d(t,{s:()=>u});var n=a(67294),r=a(56802);const l=e=>e<=64?"small":e>640?"xlarge":e>300?"large":"standard";function i(e,t){return e.filter((e=>e.label?e.label===t:e.width?l(e.width)===t:!!e.height&&l(e.height)===t))[0]}var s=a(67789);function o(e){const t=i(e,"standard"),a=i(e,"large"),n=i(e,"small"),r=i(e,"xlarge");return{image_url:t?.url,image_height:t?.height?.toString(),image_width:t?.width?.toString(),image_url_large:a?.url,image_height_large:a?.height?.toString(),image_width_large:a?.width?.toString(),image_url_small:n?.url,image_height_small:n?.height?.toString(),image_width_small:n?.width?.toString(),image_url_xlarge:r?.url,image_height_xlarge:r?.height?.toString(),image_width_xlarge:r?.width?.toString()}}var c=a(23716),m=a(69691),d=a(42781);function u(e,t){const a=(0,r.o)(),l=(0,c.g)(),{isPlaying:i,isActive:u}=(0,m.$o)(e?.uri||""),{isActive:g}=(0,m.cR)(t?.uri||"");return(0,n.useCallback)((n=>{if(!t||!e)return;const r=function(e,t){const a=(e.coverArt?.sources||[]).sort(((e,t)=>(t.width||0)-(e.width||0))),n=(0,s.Xb)(e,t),r=(0,s.Ie)(t)||n;return{uri:e.uri,title:e.name,subtitle:t.name,type:"episode",album_uri:t.uri,album_title:t.name,artist_uri:t.uri,artist_name:t.name,...o(a),media_type:"audio",externalResolvedUrl:e.audio?.items?.find((e=>e.externallyHosted))?.url,isTrailer:n,anonymousPlaybackAllowed:r}}(e,t);g&&!i&&u&&!n?l.resume():g&&i&&!n?(a({type:"click",intent:"pause",targetUri:e.uri}),l.pause()):(a({type:"click",intent:"play",targetUri:e.uri}),l.play({uri:t.uri,pages:[{items:[{type:d.p.EPISODE,uri:e.uri,uid:null,metadata:r,provider:null}]}]},{referrerIdentifier:l.getReferrer(),featureIdentifier:"episode"},n))}),[u,i,g,l,a,t,e])}},20238:(e,t,a)=>{a.d(t,{o:()=>F});var n=a(67294),r=a(20657);const l="CTqnyEX1E8bCstZSENX_",i="wuGkmgD03o8t6Ekc6PUk",s="l1ZEvEBLXHaRxKZTgG2Q",o="KXlcyuHuR1UPYVsnF3zF";var c=a(69559),m=a(28760),d=a(52865),u=a(58548);const g=/(\((?:[0-9]{1,3}:){1,2}[0-9]{2}\))/g;function p(e){return e.split(g).map((e=>{if(e.match(g)){return`(<time>${e.replace("(","").replace(")","")}</time>)`}return e})).join("")}const h=n.memo((function({text:e,onTimeStampClick:t,children:a,className:r,LinkComponent:l,enableTimestamps:i=!1}){const s=(0,n.useMemo)((()=>{const a=(0,d.ZU)(e),r=i?p(a):a;return n.createElement(u.NB,{source:r,LinkComponent:l,onTimeStampClick:t})}),[e,i,l,t]);return n.createElement(m.Dy,{as:"p",variant:"ballad",className:r},s,a)})),E="AFGg70Z_GfjSDTYBWyEq",b=n.memo((function({text:e,onTimeStampClick:t,onToggle:a,className:l,LinkComponent:i,enableTimestamps:s}){return n.createElement(h,{className:l,text:e,onTimeStampClick:t,LinkComponent:i,enableTimestamps:s},n.createElement("button",{"aria-expanded":!1,className:E,onClick:a},n.createElement(m.Dy,{variant:"balladBold"},"… ",r.ag.get("mwp.see.more"))))})),f=(e,t,a)=>{const n=r.ag.get("mwp.see.more").length,l=e.length+n+6;return a<=1&&l<t},k=n.memo((function({paragraphs:e,clickHandler:t,maxCharactersPerLine:a,maxLines:l,toggleExpandedState:i,LinkComponent:s,className:o,enableTimestamps:c}){let m=!1,d=0;const u=e.map(((u,g)=>{const p=Math.round(u.length/a);if(d+=p>0?p:1,m)return null;const E=l-(d-p);if(g+1===e.length&&(f(u,a,E)||p<=E))return n.createElement(h,{className:o,text:u,onTimeStampClick:t,LinkComponent:s,enableTimestamps:c,key:g});if(d>=l){m=!0;const e=((e,t,a)=>{const n=r.ag.get("mwp.see.more").length;if(f(e,t,a))return e;const l=t*a-n-6;return e.slice(0,l)})(u,a,E);return n.createElement(b,{key:g,text:e,onTimeStampClick:t,onToggle:i,className:o,LinkComponent:s,enableTimestamps:c})}return n.createElement(h,{className:o,text:u,onTimeStampClick:t,LinkComponent:s,enableTimestamps:c,key:g})}));return n.createElement(n.Fragment,null,u)}));var C=a(65598),y=a.n(C),x=a(19594),N=a(67892);const S="xgmjVLxjqfcXK5BV_XyN",v="QD13ZfPiO5otS0PU89wG",_="ZbLneLRe2x_OBOYZMX3M",w="rjdQaIDkSgcGmxkdI2vU",T="umouqjSkMUbvF4I_Xz6r",I=n.memo((function({html:e,onTimeStampClick:t,enableTimestamps:a=!1}){const r=(0,n.useMemo)((()=>{const n=a?p(e):e;return y()(n,{transform:L(t),dangerouslySetChildren:[]})}),[a,e,t]);return n.createElement("div",{className:S},r)}));function L(e){let t=0;return{p:e=>n.createElement(m.Dy,{as:"p",variant:"ballad",semanticColor:"textSubdued",className:T},e.children),a:t=>t.href?.startsWith("#t=")?n.createElement(x.E,{onClick:e},t.children):t.href?n.createElement(N.r,{to:t.href},t.children):n.createElement(n.Fragment,null,t.children),ul:e=>n.createElement("ul",{className:_},e.children),ol:e=>n.createElement("ol",{className:_},e.children),li:e=>n.createElement(m.Dy,{as:"li",variant:"ballad",semanticColor:"textSubdued",className:w},e.children),br:()=>n.createElement("br",null),h1:e=>n.createElement(m.Dy,{as:"h1",variant:"balladBold",semanticColor:"textSubdued",className:v},e.children),h2:e=>n.createElement(m.Dy,{as:"h2",variant:"balladBold",semanticColor:"textSubdued",className:v},e.children),h3:e=>n.createElement(m.Dy,{as:"h3",variant:"balladBold",semanticColor:"textSubdued",className:v},e.children),h4:e=>n.createElement(m.Dy,{as:"h4",variant:"balladBold",semanticColor:"textSubdued",className:v},e.children),h5:e=>n.createElement(m.Dy,{as:"h5",variant:"balladBold",semanticColor:"textSubdued",className:v},e.children),h6:e=>n.createElement(m.Dy,{as:"h6",variant:"balladBold",semanticColor:"textSubdued",className:v},e.children),time:t=>n.createElement(x.E,{onClick:e},t.children),_:(e,a,r)=>{const l=void 0===a?e:r;return n.createElement(n.Fragment,{key:"fragment"+t++},l)}}}const D={isOpen:!1,contentWidth:0},B=(e,t)=>({...e,...t}),P=(e="")=>e.split(/[ \u00a0]{2}/).filter(Boolean),F=n.memo((function({content:e,htmlContent:t,maxLines:a=2,className:d,onTimeStampClick:u=(()=>{}),LinkComponent:g,onExpanded:p,enableTimestamps:E=!1}){const[b,f]=(0,n.useReducer)(B,D),{isOpen:C,contentWidth:y}=b,x=(0,n.useCallback)((()=>{f({isOpen:!C}),p&&p(!C)}),[C,p]);(0,n.useEffect)((()=>{f({isOpen:!1})}),[e]);const N=y?y/7.8:Number.MAX_VALUE,S=(0,n.useRef)(null),v=(0,n.useCallback)((e=>{e&&(S.current=e,f({contentWidth:e.clientWidth}))}),[]),_=(0,n.useMemo)((()=>t?n.createElement(I,{html:t,onTimeStampClick:u,enableTimestamps:E}):((e,t,a,r)=>P(e).map(((e,l)=>n.createElement(h,{className:i,text:e,onTimeStampClick:t,enableTimestamps:a,LinkComponent:r,key:l}))))(e,u,E,g)),[g,e,E,t,u]),w=(0,n.useMemo)((()=>t?((e="")=>e.replace("<p>","").split(/(?:<\/p>)/).filter(Boolean))(t):P(e)),[e,t]);return(0,c.a)((()=>{S.current&&f({contentWidth:S.current.clientWidth})})),n.createElement("div",{className:d},n.createElement("div",{ref:v,className:l},C&&n.createElement(n.Fragment,null,_,n.createElement("button",{"aria-expanded":!0,className:o,onClick:x},n.createElement(m.Dy,{className:s,variant:"balladBold"},r.ag.get("show_less")))),!C&&n.createElement(k,{className:i,paragraphs:w,LinkComponent:g,clickHandler:u,enableTimestamps:E,maxCharactersPerLine:N,maxLines:a,toggleExpandedState:x})))}))},60410:(e,t,a)=>{a.d(t,{S:()=>r,g:()=>l});var n=a(86649);function r(e){return!e.playability?.playable&&e.playability?.reason===n.WY.PaymentRequired}function l(e){return!!e&&e.some(r)}}}]);
//# sourceMappingURL=1554.js.map